{"version":3,"sources":["../../03/JScomponents/chartTypes/stackedChart.js","../../03/JScomponents/modules/dataHandler/filterDimension.js","../../03/JScomponents/modules/dataHandler/flipData.js","../../03/JScomponents/modules/dataHandler/getHumanReadData.js","../../03/JScomponents/modules/dataHandler/getChartWithLabels.js","../../03/JScomponents/modules/highcharts/simpleChartsCore.js","../../03/JScomponents/modules/highcharts/simpleChartConfigs.js","../../03/JScomponents/modules/dataHandler/urlQuery.js"],"names":["createStackedChart","chartData","container","country","mode","stackType","countries","data","keys","toString","toUpperCase","chart","title","definition","options","$","inArray","filterDimension","window","urlcountry","country1","country0","tabLabels","config","tabs","tab","labels","translatedLabels","lang_countries","each","key","value","toLowerCase","name","values","getChartWithLabels","remove","append","lang_labels","addCountry","val","addPyramidRight","addPyramidLeft","addLineStackedBarChart","addStackedAreaChart","updateIndicator","indicator","ajax","dataType","url","baseURL","project","success","ajaxSuccess","error","xhr","ajaxOptions","thrownError","status","alert","chartGroup1","chartGroup0","slider","parseFloat","min","max","length","step","slide","event","ui","d","filter","filterKeys","newData","dimensions","slice","filtered","indexOf","flipData","r","reverse","map","k","i0","i1","getHumanReadData","number","decimals","trimZeros","decimalAdjust","type","exp","Math","isNaN","NaN","split","toFixed","s","replace","undefined","abs","test","ChartElement","self","this","loadChart","newChart","chartBasis","loadData","displayCharts","displayChart","loadedData","defaults","highcharts","backgroundColor","plotOptions","series","marker","enabled","states","hover","pointPadding","borderWidth","connectNulls","exporting","legend","credits","text","xAxis","style","fontSize","yAxis","CYCoptions","typeOfFirstSeries","extend","Data","categories","index","dataPoints","y","i","id","push","cats","seriesOptions","renderTo","Highcharts","Chart","labelFormat","translatedLables","ISO3toFlags","flag","tooltipFormat","x","points","tooltipUnit","addLineChart","setOptions","lang","numericSymbols","sbars","verticalAlign","padding","margin","markers","lineWidth","minimum","maximum","reversed","tickmarkPlacement","font-size","tooltip","shared","useHTML","headerFormat","pointFormat","footerFormat","colors","tooltipDecimals","area","stacking","bar","column","addBarChart","sortDimension0","desc","marginBottom","dataLabels","overflow","crop","allowOverlap","gridLineWidth","addBarChartFlag","marginLeft","formatter","addColumnChart","addBarsDiamondsChart","lineWidthPlus","addStackedColumnChart","addStackedBarChart","sortDimension0sum","animation","opposite","height","innerHeight","document","documentElement","offsetHeight","width","innerWidth","offsetWidth","wizardConfig","page","charts","indicator1","ready","on","change","newindicator","urlQuery","query_string","query","location","search","substring","vars","pair","decodeURIComponent","arr"],"mappings":"AA0EA,QAASA,oBAAmBC,UAAUC,UAAUC,QAAQC,KAAKC,WAC3D,GAAIC,WAAYL,UAAUM,KAAKC,KAAK,EACpCL,SAAUA,QAAQM,WAAWC,aAC7B,IAAIC,SACJA,OAAa,MAAIV,UAAUW,MAC3BD,MAAkB,WAAIV,UAAUY,WAChCF,MAAe,QAAIV,UAAUa,QACzBC,EAAEC,QAAQb,QAAQG,YAAY,EAChCK,MAAY,KAAIM,gBAAiBhB,UAAUM,KAAKJ,UAEhDQ,MAAY,KAAIM,gBAAiBhB,UAAUM,KAAKW,OAAOC,YACtC,cAAbjB,UACFgB,OAAOE,SAAWF,OAAOC,WAEzBD,OAAOG,SAAWH,OAAOC,WAG7B,IAAIG,WAAYC,OAAOC,KAAKC,KAAKC,OAC7BC,iBAAmBT,OAAOU,cAC1BN,YACFP,EAAEc,KAAKP,UAAUI,OAAQ,SAASI,IAAIC,OACpCJ,iBAAiBG,IAAIE,eAAiBD,MAAME,MAGjD,IAAIC,QAASC,mBAAmBxB,MAAMgB,iBACzB,iBAARvB,OACFW,EAAE,yBAAyBqB,SAC3BrB,EAAE,0BAA0BqB,SAC5BrB,EAAE,mBAAmBsB,OAAO,8BAA8BC,YAAYC,WAAW,aACjFxB,EAAEc,KAAKD,eAAgB,SAAUE,IAAIC,OAC/BhB,EAAEC,QAAQc,IAAIrB,WAAWC,cAAcJ,YAAY,IACrDS,EAAE,kBAAkBsB,OAAO,iBAAiBP,IAAI,IAAIC,MAAM,aAC1DhB,EAAE,mBAAmBsB,OAAO,iBAAiBP,IAAI,IAAIC,MAAM,gBAG/DhB,EAAE,kBAAkByB,IAAItB,OAAOG,UAC/BN,EAAE,mBAAmByB,IAAItB,OAAOE,WAEjB,iBAAbf,UACFoC,gBAAgBP,OAAOhC,WACD,gBAAbG,UACTqC,eAAeR,OAAOhC,UAAU,KACV,gBAAbG,UACTsC,uBAAuBT,OAAOhC,WAE9B0C,oBAAoBV,OAAOhC,WAI/B,QAAS2C,iBAAiBC,UAAU1C,KAAKC,WACvCU,EAAEgC,MACAC,SAAU,OACVC,IAAKC,QAAQ,qBAAqBhC,OAAOiC,QAAQ,OAAOL,UACxDM,QAASC,YAAYjD,KAAKC,WAC1BiD,MAAO,SAAUC,IAAKC,YAAaC,aACf,OAAdF,IAAIG,QACNC,MAAO,yBAMf,QAASN,aAAYjD,KAAKC,WACxB,MAAO,UAAUE,MACH,MAARA,MACe,gBAAbF,WACFa,OAAOG,SAAWH,OAAOC,WACzBD,OAAO0C,YAAkB,KAAIrD,KAC7BP,mBAAoBkB,OAAO0C,YAAY,YAAYvC,SAAS,eAAehB,WAC/D,YAARD,MACFJ,mBAAoBkB,OAAO0C,YAAY,aAAaxC,SAAS,eAAef,aAG9Ea,OAAO2C,YAAkB,KAAItD,MACwD,GAAjFQ,EAAEC,QAAQE,OAAOC,WAAWV,WAAWC,cAAcmD,YAAYtD,KAAKC,KAAK,MAC7EU,OAAOC,WAAa0C,YAAYtD,KAAKC,KAAK,GAAG,IAE/CU,OAAOG,SAAWH,OAAOC,WACzBnB,mBAAoBkB,OAAO2C,YAAY,YAAYxC,SAAS,eAAehB,WAC/D,YAARD,MACFJ,mBAAoBkB,OAAO2C,YAAY,aAAazC,SAAS,eAAef,YAGxD,YAApBa,OAAOb,YACTU,EAAG,WAAY+C,QACb/B,MAAMgC,WAAWF,YAAYtD,KAAKC,KAAK,GAAG,IAC1CwD,IAAKD,WAAWF,YAAYtD,KAAKC,KAAK,GAAG,IACzCyD,IAAKF,WAAWF,YAAYtD,KAAKC,KAAK,GAAGqD,YAAYtD,KAAKC,KAAK,GAAG0D,OAAO,IACzEC,KAAM,EACNC,MAAO,SAAUC,MAAOC,IACtBvD,EAAG,SAAUyB,IAAI8B,GAAGvC,OACpB/B,mBAAoBkB,OAAO2C,YAAY,aAAaS,GAAGvC,MAAM,KAAK,iBAClE/B,mBAAoBkB,OAAO0C,YAAY,aAAaU,GAAGvC,MAAM,KAAK,mBAGtEhB,EAAG,SAAUyB,IAAIzB,EAAG,WAAY+C,OAAQ,YAG1CH,MAAM,uBCzKZ,QAAS1C,iBAAgBsD,EAAEC,QAEzBA,OAASA,OAAO/D,WAAWC,aAC3B,IAAI+D,YAAaF,EAAE/D,KAAK,GACrBkE,UACJA,SAAoB,WAAIH,EAAEI,WAAWC,MAAM,GAC3CF,QAAc,KAAIH,EAAE/D,KAAKoE,MAAM,EAE9B,IAAIC,UAAWJ,WAAWK,QAAQN,OAGnC,OAFAE,SAAc,KAAIH,EAAEhE,KAAKsE,UAElBH,QCXR,QAASK,UAASR,GACd,GAAIS,IAAKxE,KAAM+D,EAAE/D,KAAKoE,MAAM,GAAID,WAAYJ,EAAEI,WAAWC,MAAM,GAQ/D,OAPAI,GAAExE,KAAKyE,UACPD,EAAEL,WAAWM,UACbD,EAAEzE,KAAOyE,EAAExE,KAAK,GAAG0E,IAAI,SAASC,EAAGC,IAC/B,MAAOJ,GAAExE,KAAK,GAAG0E,IAAI,SAASC,EAAGE,IAC7B,MAAOd,GAAEhE,KAAK8E,IAAID,QAGnBJ,ECVX,QAASM,kBAAiBC,OAAQC,SAAUC,WAuB1C,QAASC,eAAcC,KAAM5D,MAAO6D,KAElC,WAAmB,KAARA,KAAgC,IAARA,IAC1BC,KAAKF,MAAM5D,QAEpBA,OAASA,MACT6D,KAAOA,IAEHE,MAAM/D,QAA2B,gBAAR6D,MAAoBA,IAAM,GAAM,EACpDG,KAGThE,MAAQA,MAAMtB,WAAWuF,MAAM,KAC/BjE,MAAQ8D,KAAKF,QAAQ5D,MAAM,GAAK,KAAOA,MAAM,IAAOA,MAAM,GAAK6D,KAAQA,OAEvE7D,MAAQA,MAAMtB,WAAWuF,MAAM,OACtBjE,MAAM,GAAK,KAAOA,MAAM,IAAOA,MAAM,GAAK6D,IAAOA,QAG5D,QAASK,SAAQV,OAAQC,UACvB,GAAIU,GAAIR,cAAc,QAASH,QAASC,UAAUS,QAAQT,SAC1D,OAAOC,WAAYS,EAAEC,QAAQ,mBAAmB,MAAQD,EAvC1D,OAJiBE,KAAbZ,WACFA,SAAW,GAGTA,SAAW,EACb,MAAOD,OAGTA,QAASxB,WAAWwB,OACpB,IAAIc,KAAMR,KAAKQ,IAAId,OAqDnB,OAAGc,KAAM,KACAJ,QAAQV,OAAS,KAAMC,UAAY,SAAWtE,OAAOoB,YAAsB,SAC1E+D,IAAM,IACPJ,QAAQV,OAAS,IAAKC,UAAY,SAAWtE,OAAOoB,YAAqB,QACxE+D,IAAM,IACPJ,QAAQV,OAAS,IAAKC,UAAY,SAAWtE,OAAOoB,YAAqB,QACxE+D,IAAM,IACPJ,QAAQV,OAAS,IAAKC,UAAY,SAAWtE,OAAOoB,YAAsB,SAtBnF,SAA6BE,KAC3B,KAAO,eAAe8D,KAAK9D,IAAI/B,aAC7B+B,IAAMA,IAAI/B,WAAW0F,QAAQ,eAAgB,QAE/C,OAAO3D,MAoBoByD,QAAQV,OAAQC,WCvE/C,QAASrD,oBAAmBoC,EAAE3C,gBAC7B,GAAI8C,WAwBJ,OAvBAA,SAAiB,QAAIH,EAAEzD,QACvB4D,QAAe,MAAIH,EAAE3D,MACrB8D,QAAoB,WAAIH,EAAE1D,WAC1B6D,QAAc,QACdA,QAAQnE,KAAiB,WAAIgE,EAAEhE,KAAKoE,WACpCD,QAAQnE,KAAW,KAAIgE,EAAEhE,KAAKA,KAC9BmE,QAAQnE,KAAW,QACnBmE,QAAQnE,KAAW,KAAE,MACrBmE,QAAQnE,KAAW,KAAE,MACrBQ,EAAEc,KAAK0C,EAAEhE,KAAKC,KAAK,GAAI,SAASsB,IAAIU,KAC/BA,IAAIR,eAAiBJ,gBACxB8C,QAAQnE,KAAW,KAAE,GAAGuB,KAAOF,eAAeY,IAAIR,eAElD0C,QAAQnE,KAAW,KAAE,GAAGuB,KAAOU,MAGjCzB,EAAEc,KAAK0C,EAAEhE,KAAKC,KAAK,GAAI,SAASsB,IAAIU,KAC/BA,IAAIR,eAAiBJ,gBACxB8C,QAAQnE,KAAW,KAAE,GAAGuB,KAAOF,eAAeY,IAAIR,eAElD0C,QAAQnE,KAAW,KAAE,GAAGuB,KAAOU,MAG1BkC,QCpBR,QAAS6B,gBACL,GACI5F,OADA6F,KAAOC,IAGXD,MAAKE,UAAY,SAASnG,KAAMO,SAC5B,GAAI6F,UAAW,GAAIC,YAAWrG,KAAMO,QACpC6F,UAASE,WACTlG,MAAQgG,UAEZH,KAAKM,cAAgB,SAAS5G,WAC1BS,MAAMoG,aAAa7G,YAM3B,QAAS0G,YAAWrG,KAAMO,SACtB,GAAI0F,MAAOC,KACPO,cACAC,UACAC,YACIvG,OACIwG,gBAAgB,eAEpBC,aACIC,QACIC,QACIC,SAAS,EACTC,QAAUC,OAASF,SAAS,KAEhCG,aAAc,EACdC,YAAa,EACbC,cAAc,IAGtBC,WAAaN,SAAS,GACtBO,QAAUP,SAAS,GACnBQ,SAAWR,SAAS,GACpB3G,OAASoH,KAAM,MACfC,OACIvG,QACIyC,KAAM,EACN+D,OAASC,SAAU,SAG3BC,OACIxH,OAAQoH,KAAM,QAGtBK,YACIC,kBAAmB,MAI3BxH,SAAUC,EAAEwH,QAAO,EAAMtB,SAAUnG,SAEnC0F,KAAKK,SAAW,WACZ,GAAI2B,SACAC,WAAalI,KAAKC,KAAK,EAC3BO,GAAEc,KAAKtB,KAAKC,KAAK,GAAI,SAASkI,MAAOzG,MACjC,GAAI0G,YAAcpI,KAAKA,KAAKmI,OAAOxD,IAAI,SAAS0D,EAAGC,GAC/C,MAAS,OAALD,GACQA,EAAG7E,WAAW6E,EAAE3C,QAAQnF,QAAQuH,WAAW7C,WAAYsD,GAAIL,WAAWI,GAAI5G,KAAMwG,WAAWI,KAE3FD,EAAG,KAAME,GAAIL,WAAWI,KAIxCL,MAAKO,MAAM9G,KAAMA,KAAM1B,KAAMoI,eAEW,MAAxC7H,QAAQuH,WAAWC,oBACnBE,KAAK,GAAG7C,KAAO7E,QAAQuH,WAAWC,mBAGtCtB,YAAcgC,KAAMP,WAAYpB,OAAQmB,OAG5ChC,KAAKO,aAAe,SAAS7G,WACzB,GAAIK,MAAOyG,UACX,IAAY,MAARzG,KAAc,OAAO,CACzB,IAAI0I,gBACAtI,OAAQuI,SAAShJ,WACjB+H,OAAOQ,WAAWlI,KAAKyI,MACvB3B,OAAO9G,KAAK8G,OAIhB,OAFAvG,SAAQoG,WAAanG,EAAEwH,QAAO,EAAMzH,QAAQoG,WAAY+B,eACxD,GAAIE,YAAWC,MAAMtI,QAAQoG,aACtB,GC7Ff,QAASmC,aAAaC,kBAClB,MAAO,YAEL,GAAI7C,KAAK1E,MAAMrB,eAAiBQ,QAAOqI,YAAa,CAClD,GAAIC,MAAO,oDAAoDtG,QAAQ,iBAAiBuD,KAAK1E,MAAMrB,cAAc,IACjH,OAAW,mCAAmC4I,iBAAiB7C,KAAK1E,MAAMC,eAAe,UAAUwH,KAEnG,WAAkDpD,IAA9CkD,iBAAiB7C,KAAK1E,MAAMC,eACjB,mCAAmCsH,iBAAiB7C,KAAK1E,MAAMC,eAAe,UAE9E,mCAAmCyE,KAAK1E,MAAMC,cAAc,WAOnF,QAASyH,eAAevH,OAAOoH,kBAC3B,MAAO,YACH,OAA8ClD,IAA1CkD,iBAAiB7C,KAAKiD,EAAE1H,eACxB,GAAIkE,GAAI,MAAQoD,iBAAiB7C,KAAKiD,EAAE1H,eAAiB,WAEzD,IAAIkE,GAAI,MAAQO,KAAKiD,EAAI,MAM7B,OAJA3I,GAAEc,KAAK4E,KAAKkD,OAAQ,WAChBzD,GAAK,QAAUO,KAAKY,OAAOpF,KAAO,KAClCwE,KAAKmC,EAAE,IAAI1G,OAAOpB,QAAQ8I,cAEvB1D,GAUf,QAAS2D,cAAa3H,OAAOhC,WAE3B,GADAiJ,WAAWW,YAAYC,MAAQC,eAAgB,YACpB5D,IAAvBlE,OAAO3B,KAAKA,KAAK,GAAiB,CACpC,GAAI0J,OAAQ,GAAI1D,eAGhB,WACA0D,MAAMvD,UAAUxE,OAAO3B,MACrB2G,YACEvG,OACEgF,KAAM,QAGRmC,QACEP,SAAS,EACT2C,cAAe,MACfC,QAAS,EACTC,OAAQ,IAEVhD,aACEC,QACAgD,SACE9C,SAAS,EACTC,QAAUC,OAASF,SAAS,KAE5B+C,UAAW,IAGflC,OACEpE,IAAK9B,OAAOpB,QAAQyJ,QACpBtG,IAAK/B,OAAOpB,QAAQ0J,SAEtBvC,OACEwC,UAAU,EACVC,kBAAmB,KACnBhJ,QACUwG,OAASyC,YAAY,QACrBxG,KAAM,OAGlByG,SACEC,QAAQ,EACRC,SAAS,EACTC,aAAc,oCACdC,YAAa,uGACgC9I,OAAOpB,QAAQ8I,YAAY,iBACxEqB,aAAc,YAEhBC,QAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAE7N7C,YACE7C,SAAUtD,OAAOpB,QAAQqK,mBAGzBlB,MAAMnD,cAAc5G,eAI5B,QAASyC,wBAAuBT,OAAOhC,WACrC,OAA2BkG,IAAvBlE,OAAO3B,KAAKA,KAAK,GAAiB,CACpC,GAAI0J,OAAQ,GAAI1D,eAGhB,WACA0D,MAAMvD,UAAUxE,OAAO3B,MACrB2G,YACEvG,OACEgF,KAAM,UAGRmC,QACEP,SAAS,EACT2C,cAAe,MACfC,QAAS,EACTC,OAAQ,GAEVhD,aACEgE,MAASC,SAAU,UACnBC,KAAQD,SAAU,UAClBE,QAAWF,SAAU,UACrBhE,QACEgD,SACE9C,SAAS,EACTC,QAAUC,OAASF,SAAS,KAE9B+C,UAAW,IAGflC,OACEpE,IAAK9B,OAAOpB,QAAQyJ,QACpBtG,IAAK/B,OAAOpB,QAAQ0J,SAEtBvC,OACEyC,kBAAmB,KACnBhJ,QACUwG,OAASyC,YAAY,QACrBxG,KAAM,OAGlByG,SACEC,QAAQ,EACRC,SAAS,EACTC,aAAc,oCACdC,YAAa,uGACgC9I,OAAOpB,QAAQ8I,YAAY,iBACxEqB,aAAc,aAIlB5C,YACE7C,SAAUtD,OAAOpB,QAAQqK,gBACzB7C,kBAAmBpG,OAAOpB,QAAQwH,mBAAqB,UAGvD2B,MAAMnD,cAAc5G,eAI5B,QAAS0C,qBAAoBV,OAAOhC,WAClC,OAA2BkG,IAAvBlE,OAAO3B,KAAKA,KAAK,GAAiB,CACpC,GAAI0J,OAAQ,GAAI1D,eAGhB,WACA0D,MAAMvD,UAAUxE,OAAO3B,MACrB2G,YACEvG,OACEgF,KAAM,QAGRmC,QACEP,SAAS,EACT2C,cAAe,MACfC,QAAS,EACTC,OAAQ,GAEVhD,aACEgE,MAASC,SAAU,UACnBhE,QACEgD,SACE9C,SAAS,EACTC,QAAUC,OAASF,SAAS,KAE9B+C,UAAW,IAGflC,OACEpE,IAAK9B,OAAOpB,QAAQyJ,QACpBtG,IAAK/B,OAAOpB,QAAQ0J,SAEtBvC,OACEyC,kBAAmB,KACnBhJ,QACUwG,OAASyC,YAAY,QACrBxG,KAAM,OAGlByG,SACEC,QAAQ,EACRC,SAAS,EACTC,aAAc,oCACdC,YAAa,uGACgC9I,OAAOpB,QAAQ8I,YAAY,iBACxEqB,aAAc,aAIlB5C,YACE7C,SAAUtD,OAAOpB,QAAQqK,mBAGzBlB,MAAMnD,cAAc5G,eAI5B,QAASsL,aAAYtJ,OAAOhC,WACxB,GAAI+J,OAAQ,GAAI1D,eAEhB,WACArE,OAAO3B,KAAOkL,eAAevJ,OAAO3B,KAAK,EAAEmL,MAAK,GAChDzB,MAAMvD,UAAU3B,SAAS7C,OAAO3B,OAC9B2G,YACEvG,OACEgF,KAAM,MACNgG,aAAc,IAGhB7D,QACEP,SAAS,EACT2C,cAAe,MACfC,QAAS,EACTC,OAAQ,GAEVhD,aACEC,QACEuE,YACErE,SAAS,EACTsE,SAAU,OACVC,MAAM,EACNC,cAAc,KAIpB3D,OACE1G,QAAS6F,SAAS,GAClByE,cAAe,EACfhI,IAAK9B,OAAOpB,QAAQyJ,QACpBtG,IAAK/B,OAAOpB,QAAQ0J,SAMtBI,SACEC,QAAQ,EACRC,SAAS,EACTC,aAAc,oCACdC,YAAa,uGACgC9I,OAAOpB,QAAQ8I,YAAY,iBACxEqB,aAAc,aAGlB5C,YACE7C,SAAUtD,OAAOpB,QAAQqK,mBAGzBlB,MAAMnD,cAAc5G,cAK5B,QAAS+L,iBAAgB/J,OAAOhC,UAAUyB,kBACtC,GAAIsI,OAAQ,GAAI1D,eAEhB,WACArE,OAAO3B,KAAOkL,eAAevJ,OAAO3B,KAAK,EAAEmL,MAAK,GAChDzB,MAAMvD,UAAU3B,SAAS7C,OAAO3B,OAC9B2G,YACEvG,OACEgF,KAAM,MACNgG,aAAc,GACdO,WAAY,KAGdpE,QACEP,SAAS,EACT2C,cAAe,MACfC,QAAS,EACTC,OAAQ,GAEVhD,aACEC,QACEuE,YACErE,SAAS,EACTsE,SAAU,OACVC,MAAM,EACNC,cAAc,KAIpB3D,OACE1G,QAAS6F,SAAS,GAClByE,cAAe,EACfhI,IAAK9B,OAAOpB,QAAQyJ,QACpBtG,IAAK/B,OAAOpB,QAAQ0J,SAEtBvC,OACEvG,QACEoJ,SAAS,EACTqB,UAAW9C,YAAY1H,oBAI3BiJ,SACEC,QAAQ,EACRC,SAAS,EACTqB,UAAW1C,cAAcvH,OAAOP,oBAGpC0G,YACE7C,SAAUtD,OAAOpB,QAAQqK,mBAGzBlB,MAAMnD,cAAc5G,cAK5B,QAASkM,gBAAelK,OAAOhC,WAC3B,GAAI+J,OAAQ,GAAI1D,eAEhB,WACArE,OAAO3B,KAAOkL,eAAevJ,OAAO3B,KAAK,EAAEmL,MAAK,GAChDzB,MAAMvD,UAAU3B,SAAS7C,OAAO3B,OAC9B2G,YACEvG,OAASgF,KAAM,UAEfmC,QACEP,SAAS,EACT2C,cAAe,MACfC,QAAS,EACTC,OAAQ,GAEVhD,aACEC,QACEuE,YACErE,SAAS,EACTsE,SAAU,OACVC,MAAM,EACNC,cAAc,KAIpB3D,OACEpE,IAAK9B,OAAOpB,QAAQyJ,QACpBtG,IAAK/B,OAAOpB,QAAQ0J,SAEtBU,QAAS,UAAU,WACnBN,SACEC,QAAQ,EACRC,SAAS,EACTC,aAAc,oCACdC,YAAa,uGACgC9I,OAAOpB,QAAQ8I,YAAY,iBACxEqB,aAAc,aAGlB5C,YACE7C,SAAUtD,OAAOpB,QAAQqK,mBAGzBlB,MAAMnD,cAAc5G,cAK5B,QAASmM,sBAAqBnK,OAAOhC,WACjC,GAAI+J,OAAQ,GAAI1D,eAEhB,WACArE,OAAO3B,KAAOkL,eAAevJ,OAAO3B,KAAK,EAAEmL,MAAK,GAChDzB,MAAMvD,UAAU3B,SAAS7C,OAAO3B,OAC9B2G,YACEvG,OAASgF,KAAM,OAAOgG,aAAc,IACpC7D,QACEP,SAAS,EACT2C,cAAe,MACfC,QAAS,EACTC,OAAQ,GAEVhD,aACEC,QACEC,QACEC,SAAS,GAEb+C,UAAW,EACX9C,QAAUC,OACF6C,UAAW,EACXgC,cAAe,MAKzBlE,OACEpE,IAAK9B,OAAOpB,QAAQyJ,QACpBtG,IAAK/B,OAAOpB,QAAQ0J,SAGtBI,SACEC,QAAQ,EACRC,SAAS,EACTC,aAAc,oCACdC,YAAa,uGACgC9I,OAAOpB,QAAQ8I,YAAY,iBACxEqB,aAAc,aAGlB5C,YACEC,kBAAmB,MACnB9C,SAAUtD,OAAOpB,QAAQqK,mBAGzBlB,MAAMnD,cAAc5G,cAM5B,QAASqM,uBAAsBrK,OAAOhC,WAClC,GAAI+J,OAAQ,GAAI1D,eAEhB,WACA0D,MAAMvD,UAAU3B,SAAS7C,OAAO3B,OAC9B2G,YACEvG,OACEgF,KAAM,UAGRmC,QACEP,SAAS,EACT2C,cAAe,MACfC,QAAS,EACTC,OAAQ,GAEVhD,aACYkE,KAAQD,SAAU,UAClBE,QAAWF,SAAU,WAEjCjD,OACEpE,IAAK9B,OAAOpB,QAAQyJ,QACpBtG,IAAK/B,OAAOpB,QAAQ0J,SAEtBvC,OACQvG,QACIyC,KAAM,OAIlByG,SACEC,QAAQ,EACRC,SAAS,EACTC,aAAc,oCACdC,YAAa,uGACgC9I,OAAOpB,QAAQ8I,YAAY,iBACxEqB,aAAc,aAGlB5C,YACE7C,SAAUtD,OAAOpB,QAAQqK,mBAGzBlB,MAAMnD,cAAc5G,cAI5B,QAASsM,oBAAmBtK,OAAOhC,WAC/B,GAAI+J,OAAQ,GAAI1D,eAEhB,WACArE,OAAO3B,KAAOkM,kBAAkBvK,OAAO3B,KAAKmL,MAAK,GACjDzB,MAAMvD,UAAU3B,SAAS7C,OAAO3B,OAC9B2G,YACEvG,OACEgF,KAAM,MACNgG,aAAc,IAEhB7D,QACEP,SAAS,EACTkD,UAAU,EACVP,cAAe,MACfC,QAAS,EACTC,OAAQ,GAEVhD,aACYkE,KAAQD,SAAU,UAClBE,QAAWF,SAAU,WAEjCjD,OACEpE,IAAK9B,OAAOpB,QAAQyJ,QACpBtG,IAAK/B,OAAOpB,QAAQ0J,SAEtBvC,SAKA2C,SACEC,QAAQ,EACRC,SAAS,EACTC,aAAc,oCACdC,YAAa,uGACgC9I,OAAOpB,QAAQ8I,YAAY,iBACxEqB,aAAc,aAGlB5C,YACE7C,SAAUtD,OAAOpB,QAAQqK,mBAGzBlB,MAAMnD,cAAc5G,cAI5B,QAASuC,iBAAgBP,OAAOhC,WAC5B,GAAI+J,OAAQ,GAAI1D,eAEhB,WACA0D,MAAMvD,UAAU3B,SAAS7C,OAAO3B,OAC9B2G,YACEtG,OAAQoH,KAAK,OACbrH,OACEgF,KAAM,OAGRmC,QACEP,SAAS,EACTkD,UAAU,EACVP,cAAe,SACfC,QAAS,EACTC,OAAQ,GAEVhD,aACEkE,KAAQD,SAAU,UAClBE,QAAWF,SAAU,UACrBhE,QACIqF,WAAW,IAGjBtE,OACEpE,IAAK9B,OAAOpB,QAAQyJ,QACpBtG,IAAK/B,OAAOpB,QAAQ0J,SAEtBvC,OACE0E,UAAU,GAIZ/B,SACEC,QAAQ,EACRC,SAAS,EACTC,aAAc,oCACdC,YAAa,uGACgC9I,OAAOpB,QAAQ8I,YAAY,iBACxEqB,aAAc,aAGlB5C,YACE7C,SAAUtD,OAAOpB,QAAQqK,mBAGzBlB,MAAMnD,cAAc5G,cAK5B,QAASwC,gBAAeR,OAAOhC,WAC3B,GAAI+J,OAAQ,GAAI1D,eAEhB,WACA0D,MAAMvD,UAAU3B,SAAS7C,OAAO3B,OAC9B2G,YACEtG,OAAQoH,KAAK,SACbrH,OACEgF,KAAM,OAERmC,QACEP,SAAS,EACTkD,UAAU,EACVP,cAAe,SACfC,QAAS,EACTC,OAAQ,GAEVhD,aACEkE,KAAQD,SAAU,UAClBE,QAAWF,SAAU,UACrBhE,QACIqF,WAAW,IAGjBzE,SAGAG,OACEpE,IAAK9B,OAAOpB,QAAQyJ,QACpBtG,IAAK/B,OAAOpB,QAAQ0J,QACpBC,UAAU,GAGZG,SACEC,QAAQ,EACRC,SAAS,EACTC,aAAc,oCACdC,YAAa,uGACgC9I,OAAOpB,QAAQ8I,YAAY,iBACxEqB,aAAc,aAGlB5C,YACE7C,SAAUtD,OAAOpB,QAAQqK,mBAGzBlB,MAAMnD,cAAc5G,cN5mB5B,GAAI0M,QAAS,eAAiB1L,QACbA,OAAO2L,YACPC,SAASC,gBAAgBC,aAEtCC,MAAQ,cAAgB/L,QACXA,OAAOgM,WACPJ,SAASC,gBAAgBI,YAEtC5L,OAASL,OAAOkM,aAChB3L,IAAMF,OAAO4B,QAAQ3B,KAAK6L,MAE1BhN,UAAYkB,OAAOC,KAAKC,KAAKpB,UAE7BwD,YAActC,OAAO+L,OAAO/L,OAAOC,KAAKC,KAAK6L,OAAO,IACpDxK,UAAYe,YAAY/C,QAAQgC,SAEpC,IAAiB,YAAbzC,UAAyB,CAC3B,GAAIuD,eACJA,aAAmB,MAAIrC,OAAO+L,OAAO/L,OAAOC,KAAKC,KAAK6L,OAAO,IAAI1M,MACjEgD,YAAwB,WAAIrC,OAAO+L,OAAO/L,OAAOC,KAAKC,KAAK6L,OAAO,IAAIzM,WACtE+C,YAAqB,QAAIrC,OAAO+L,OAAO/L,OAAOC,KAAKC,KAAK6L,OAAO,IAAIxM,OACnE,IAAIyM,YAAa3J,YAAY9C,QAAQyM,WAGvC,GAAIlM,UACAD,SAAW,YAEfL,GAAE+L,UAAUU,MAAM,WACC,YAAbnN,WACFwC,gBAAiBC,UAAU,WAAW,iBACtCD,gBAAiB0K,WAAW,WAAW,iBACjB,gBAAblN,UACTwC,gBAAiBC,UAAU,WAAW,gBAEtCD,gBAAiBC,UAAU,YAE7B/B,EAAE,eAAeyB,IAAIjB,OAAOC,KAAKC,KAAK6L,OAAO,IAC7CvM,EAAE,QAAQ0M,GAAG,SAAS,iBAAiB,WACrCpM,SAAWN,EAAE0F,MAAMjE,MACF,YAAbnC,WACFL,mBAAoBkB,OAAO2C,YAAY,YAAYxC,SAAS,KAAK,iBACjErB,mBAAoBkB,OAAO0C,YAAY,YAAYvC,SAAS,KAAK,iBAC3C,gBAAbhB,UACTL,mBAAoBkB,OAAO2C,YAAY,YAAYxC,SAAS,KAAK,gBAEjErB,mBAAoBkB,OAAO2C,YAAY,YAAYxC,YAGvDN,EAAE,QAAQ0M,GAAG,SAAS,kBAAkB,WACtCrM,SAAWL,EAAE0F,MAAMjE,MACF,YAAbnC,WACFL,mBAAoBkB,OAAO2C,YAAY,aAAazC,SAAS,KAAK,iBAClEpB,mBAAoBkB,OAAO0C,YAAY,aAAaxC,SAAS,KAAK,iBAC5C,gBAAbf,UACTL,mBAAoBkB,OAAO2C,YAAY,aAAazC,SAAS,KAAK,gBAElEpB,mBAAoBkB,OAAO2C,YAAY,aAAazC,YAGxDL,EAAE,eAAe2M,OAAO,WACtB,GAAIC,cAAe5M,EAAE0F,MAAMjE,KAC3BM,WAAYvB,OAAO+L,OAAOK,cAAc7M,QAAQgC,UAC/B,gBAAbzC,WACFwD,YAActC,OAAO+L,OAAOK,cAC5B9K,gBAAiBC,UAAU,KAAK,iBAEhCD,gBAAiBC,cO9DvB,IAAI8K,UAAW,WAIb,IAAK,GAHDC,iBACAC,MAAQ5M,OAAO6M,SAASC,OAAOC,UAAU,GACzCC,KAAOJ,MAAM9H,MAAM,KACd6C,EAAE,EAAEA,EAAEqF,KAAKhK,OAAO2E,IAAK,CAC9B,GAAIsF,MAAOD,KAAKrF,GAAG7C,MAAM,IAEzB,QAAqC,KAA1B6H,aAAaM,KAAK,IAC3BN,aAAaM,KAAK,IAAMC,mBAAmBD,KAAK,QAE3C,IAAqC,gBAA1BN,cAAaM,KAAK,IAAkB,CACpD,GAAIE,MAAQR,aAAaM,KAAK,IAAIC,mBAAmBD,KAAK,IAC1DN,cAAaM,KAAK,IAAME,QAGxBR,cAAaM,KAAK,IAAIpF,KAAKqF,mBAAmBD,KAAK,KAGrD,MAAON","file":"stacked.min.js","sourcesContent":["\nvar height = \"innerHeight\" in window\n               ? window.innerHeight\n               : document.documentElement.offsetHeight;\n\nvar width = \"innerWidth\" in window\n               ? window.innerWidth\n               : document.documentElement.offsetWidth;\n\nvar config = window.wizardConfig;\nvar tab = config.project.tabs[page];\n\nvar stackType = config.tabs[tab].stackType;\n\nvar chartGroup0 = config.charts[config.tabs[tab].charts[0]];\nvar indicator = chartGroup0.options.indicator;\n\nif (stackType == 'pyramids') {\n  var chartGroup1 = {};\n  chartGroup1['title'] = config.charts[config.tabs[tab].charts[0]].title;\n  chartGroup1['definition'] = config.charts[config.tabs[tab].charts[0]].definition;\n  chartGroup1['options'] = config.charts[config.tabs[tab].charts[0]].options;\n  var indicator1 = chartGroup1.options.indicator1;\n}\n\nvar country0;\nvar country1 = 'addCountry';\n\n$(document).ready(function() {\n  if (stackType == 'pyramids') {\n    updateIndicator (indicator,'pageLoad','pyramidsRight');\n    updateIndicator (indicator1,'pageLoad','pyramidsLeft');\n  } else if (stackType == 'lineWithBars') {\n    updateIndicator (indicator,'pageLoad','lineWithBars');\n  } else {\n    updateIndicator (indicator,'pageLoad');\n  }\n  $('#chartTitle').val(config.tabs[tab].charts[0]);\n  $('body').on('change','#countrySelect',function(){\n    country0 = $(this).val();\n    if (stackType == 'pyramids') {\n      createStackedChart (window.chartGroup0,'container',country0,null,'pyramidsRight');\n      createStackedChart (window.chartGroup1,'container',country0,null,'pyramidsLeft');\n    } else if (stackType == 'lineWithBars') {\n      createStackedChart (window.chartGroup0,'container',country0,null,'lineWithBars');\n    } else {\n      createStackedChart (window.chartGroup0,'container',country0);\n    }\n  });\n  $('body').on('change','#countrySelect1',function(){\n    country1 = $(this).val();\n    if (stackType == 'pyramids') {\n      createStackedChart (window.chartGroup0,'container1',country1,null,'pyramidsRight');\n      createStackedChart (window.chartGroup1,'container1',country1,null,'pyramidsLeft');\n    } else if (stackType == 'lineWithBars') {\n      createStackedChart (window.chartGroup0,'container1',country1,null,'lineWithBars');\n    } else {\n      createStackedChart (window.chartGroup0,'container1',country1);\n    }\n  });\n  $('#chartTitle').change(function(){\n    var newindicator = $(this).val();\n    indicator = config.charts[newindicator].options.indicator;\n    if (stackType == 'lineWithBars') {\n      chartGroup0 = config.charts[newindicator];\n      updateIndicator (indicator,null,'lineWithBars');\n    } else {\n      updateIndicator (indicator);\n    }\n  });\n\n\n});\n\nfunction createStackedChart(chartData,container,country,mode,stackType) {\n  var countries = chartData.data.keys[0];\n  country = country.toString().toUpperCase();\n  var chart = {};\n  chart['title'] = chartData.title;\n  chart['definition'] = chartData.definition;\n  chart['options'] = chartData.options;\n  if ($.inArray(country,countries)>-1) {\n    chart['data'] = filterDimension (chartData.data,country);\n  } else {\n    chart['data'] = filterDimension (chartData.data,window.urlcountry);\n    if (container == 'container1') {\n      window.country1 = window.urlcountry;\n    } else {\n      window.country0 = window.urlcountry;\n    }\n  }\n  var tabLabels = config.tabs[tab].labels;\n  var translatedLabels = window.lang_countries;\n  if (tabLabels) {\n    $.each(tabLabels.labels, function(key,value){\n      translatedLabels[key.toLowerCase()] = value.name;\n    })\n  }\n\tvar values = getChartWithLabels(chart,translatedLabels);\n  if (mode == 'newIndicator') {\n    $('#countrySelect option').remove()\n    $('#countrySelect1 option').remove()\n    $('#countrySelect1').append('<option value=\"addCountry\">'+lang_labels.addCountry+'</option>')\n    $.each(lang_countries, function (key,value) {\n      if ($.inArray(key.toString().toUpperCase(),countries)>-1) {\n        $('#countrySelect').append('<option value='+key+'>'+value+'</option>')\n        $('#countrySelect1').append('<option value='+key+'>'+value+'</option>')\n      }\n    });\n    $('#countrySelect').val(window.country0);\n    $('#countrySelect1').val(window.country1);\n  }\n  if (stackType == 'pyramidsRight') {\n    addPyramidRight(values,container);\n  } else if (stackType == 'pyramidsLeft') {\n    addPyramidLeft(values,container+'A');\n  } else if (stackType == 'lineWithBars') {\n    addLineStackedBarChart(values,container);\n  } else {\n    addStackedAreaChart(values,container);\n  }\n}\n\nfunction updateIndicator (indicator,mode,stackType) {\n  $.ajax({\n    dataType: \"json\",\n    url: baseURL+\"/api-data?project=\"+window.project+\"&id=\"+indicator,\n    success: ajaxSuccess(mode,stackType),\n    error: function (xhr, ajaxOptions, thrownError) {\n      if (xhr.status == '404') {\n        alert ('No data available.')};\n    }\n  });\n}\n\n\nfunction ajaxSuccess(mode,stackType) {\n  return function (data) {\n    if (data != null) {\n      if (stackType == 'pyramidsLeft') {\n        window.country0 = window.urlcountry;\n        window.chartGroup1['data'] = data;\n        createStackedChart (window.chartGroup1,'container',country0,'newIndicator',stackType);\n        if (mode != 'pageLoad') {\n          createStackedChart (window.chartGroup1,'container1',country1,'newIndicator',stackType);\n        }\n      } else {\n        window.chartGroup0['data'] = data;\n        if ($.inArray(window.urlcountry.toString().toUpperCase(),chartGroup0.data.keys[0])==-1) {\n          window.urlcountry = chartGroup0.data.keys[0][0];\n        }\n        window.country0 = window.urlcountry;\n        createStackedChart (window.chartGroup0,'container',country0,'newIndicator',stackType);\n        if (mode != 'pageLoad') {\n          createStackedChart (window.chartGroup0,'container1',country1,'newIndicator',stackType);\n        }\n      }\n      if (window.stackType == 'pyramids') {\n        $( \"#slider\" ).slider({\n          value:parseFloat(chartGroup0.data.keys[0][0]),\n          min: parseFloat(chartGroup0.data.keys[0][0]),\n          max: parseFloat(chartGroup0.data.keys[0][chartGroup0.data.keys[0].length-1]),\n          step: 1,\n          slide: function( event, ui ) {\n            $( \"#year\" ).val(ui.value );\n            createStackedChart (window.chartGroup0,'container1',ui.value,null,'pyramidsRight');\n            createStackedChart (window.chartGroup1,'container1',ui.value,null,'pyramidsLeft');\n          }\n        });\n        $( \"#year\" ).val($( \"#slider\" ).slider( \"value\" ) );\n      }\n    } else {\n      alert('No data available.');\n    }\n  }\n}\n\n\n","\n//filters a multidimensional data object on the first dimension\n\nfunction filterDimension(d,filter) {\n\n  filter = filter.toString().toUpperCase();\n  var filterKeys = d.keys[0];\n\tvar newData = {};\n\tnewData['dimensions'] = d.dimensions.slice(1);\n\tnewData['keys'] = d.keys.slice(1);\n\n  var filtered = filterKeys.indexOf(filter);\n\tnewData['data'] = d.data[filtered];\n\n\treturn newData;\n}\n","\n\n//flips dimensions on two dimensional data model\nfunction flipData(d) {\n    var r = {keys: d.keys.slice(0), dimensions: d.dimensions.slice(0)};\n    r.keys.reverse();\n    r.dimensions.reverse();\n    r.data = r.keys[0].map(function(k, i0) {\n        return r.keys[1].map(function(k, i1) {\n            return d.data[i1][i0];\n        });\n    });\n    return r;\n}\n","// function to convert large numbers in human readable numbers\n// passing a negative number for decimals returns the unmodified number\nfunction getHumanReadData(number, decimals, trimZeros) {\n  if (decimals === undefined) {\n    decimals = 0;\n  }\n\n  if (decimals < 0) {\n    return number;\n  }\n\n  number = parseFloat(number);\n  var abs = Math.abs(number);\n\n  /* code from MDN (public domain)\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round$revision/981487#Decimal_rounding\n  */\n  /**\n   * Decimal adjustment of a number.\n   *\n   * @param {String}  type  The type of adjustment.\n   * @param {Number}  value The number.\n   * @param {Integer} exp   The exponent (the 10 logarithm of the adjustment base).\n   * @returns {Number} The adjusted value.\n   */\n  function decimalAdjust(type, value, exp) {\n    // If the exp is undefined or zero...\n    if (typeof exp === 'undefined' || +exp === 0) {\n      return Math[type](value);\n    }\n    value = +value;\n    exp = +exp;\n    // If the value is not a number or the exp is not an integer...\n    if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n      return NaN;\n    }\n    // Shift\n    value = value.toString().split('e');\n    value = Math[type](+(value[0] + 'e' + (value[1] ? (+value[1] - exp) : -exp)));\n    // Shift back\n    value = value.toString().split('e');\n    return +(value[0] + 'e' + (value[1] ? (+value[1] + exp) : exp));\n  }\n\n  function toFixed(number, decimals) {\n    var s = decimalAdjust('round', number, -decimals).toFixed(decimals);\n    return trimZeros ? s.replace(/\\.0+$|(\\..*?)0+$/,'$1') : s;\n  }\n\n  // this function prints larger number in OECD format 10 000.23 usw.\n  function spaceSeparateNumber(val){\n    while (/(\\d+)(\\d{3})/.test(val.toString())){\n      val = val.toString().replace(/(\\d+)(\\d{3})/, '$1' + ' ' + '$2');\n    }\n    return val;\n  }\n\n  // this function prints larger number in US format 10,000.23 usw.\n  function commaSeparateNumber(val){\n    while (/(\\d+)(\\d{3})/.test(val.toString())){\n      val = val.toString().replace(/(\\d+)(\\d{3})/, '$1' + ',' + '$2');\n    }\n    return val;\n  }\n\n  if(abs > 1e12) {\n    return toFixed(number / 1e12, decimals) + '&nbsp;' + window.lang_labels['trillion'];\n  } else if(abs > 1e9) {\n    return toFixed(number / 1e9, decimals) + '&nbsp;' + window.lang_labels['billion'];\n  } else if(abs > 1e6) {\n    return toFixed(number / 1e6, decimals) + '&nbsp;' + window.lang_labels['million'];\n  } else if(abs > 1e5) {\n    return toFixed(number / 1e3, decimals) + '&nbsp;' + window.lang_labels['thousand'];\n  } else {\n    return spaceSeparateNumber(toFixed(number, decimals));\n  }\n}\n","\n\n\nfunction getChartWithLabels(d,lang_countries) {\n\tvar newData = {}\n\tnewData['options'] = d.options;\n\tnewData['title'] = d.title;\n\tnewData['definition'] = d.definition;\n\tnewData['data'] = {}\n\tnewData.data['dimensions'] = d.data.dimensions;\n\tnewData.data['data'] = d.data.data;\n\tnewData.data['keys'] = [];\n\tnewData.data['keys'][0] = [];\n\tnewData.data['keys'][1] = [];\n\t$.each(d.data.keys[0], function(key,val){\n\t\tif (val.toLowerCase() in lang_countries) {\n\t\t\tnewData.data['keys'][0][key] = lang_countries[val.toLowerCase()];\n\t\t} else {\n\t\t\tnewData.data['keys'][0][key] = val;\n\t\t}\n\t});\n\t$.each(d.data.keys[1], function(key,val){\n\t\tif (val.toLowerCase() in lang_countries) {\n\t\t\tnewData.data['keys'][1][key] = lang_countries[val.toLowerCase()];\n\t\t} else {\n\t\t\tnewData.data['keys'][1][key] = val;\n\t\t}\n\t});\n\treturn newData;\n}\n\n","\n\n// class for simple chart\n\n//dependencies\n//highcharts.js\n\n// class for a collection of charts\nfunction ChartElement() {\n    var self = this;\n    var chart ;\n// configure, load and add chart to collection\n    self.loadChart = function(data, options) {\n        var newChart = new chartBasis(data, options);\n        newChart.loadData();\n        chart = newChart;\n    };\n    self.displayCharts = function(container) {\n        chart.displayChart(container)\n    };\n}\n\n\n\nfunction chartBasis(data, options) {\n    var self = this;\n    var loadedData = {};\n    var defaults = {\n        highcharts : {\n            chart : {\n                backgroundColor:'transparent'\n            },\n            plotOptions: {\n                series: {\n                    marker: {\n                        enabled: false,\n                        states: { hover: { enabled: true } }\n                    },\n                    pointPadding: 0,\n                    borderWidth: 0,\n                    connectNulls: true,\n                }\n            },\n            exporting: { enabled: false },\n            legend: { enabled: false },\n            credits: { enabled: false },\n            title : {text: null},\n            xAxis:{\n                labels: {\n                    step: 1,\n                    style : {fontSize: '1em'}\n                    },\n            },\n            yAxis : {\n                title: {text: null },\n            },\n        },\n        CYCoptions : {\n            typeOfFirstSeries: null,\n        }\n    };\n// custom CYC options\n    options = $.extend(true, defaults, options);\n\n    self.loadData = function() {\n        var Data=[];\n        var categories = data.keys[1];\n        $.each(data.keys[0], function(index, name) {\n            var dataPoints =  data.data[index].map(function(y, i) {\n                if (y != null) {\n                    return {y: parseFloat(y.toFixed(options.CYCoptions.decimals)), id: categories[i], name: categories[i]};\n                } else {\n                    return {y: null, id: categories[i]};\n                }\n\n            });\n            Data.push({name: name, data: dataPoints});\n        });\n        if (options.CYCoptions.typeOfFirstSeries != null) {\n            Data[0].type = options.CYCoptions.typeOfFirstSeries;\n        }\n\n        loadedData = {cats: categories, series: Data};\n    };\n\n    self.displayChart = function(container) {\n        var data = loadedData;\n        if (data == null) return false;\n        var seriesOptions = {\n            chart:{ renderTo:container},\n            xAxis:{categories:data.cats},\n            series:data.series\n        };\n        options.highcharts = $.extend(true, options.highcharts, seriesOptions);\n        new Highcharts.Chart(options.highcharts);\n        return true;\n    };\n}\n\n\n","\n\nfunction labelFormat (translatedLables) {\n    return function () {\n//        add flags with ISO codes as short form for countries\n      if (this.value.toUpperCase() in window.ISO3toFlags) {\n        var flag = '<img  style=\"margin-bottom:4px\" height=18px src=\"'+baseURL+'/flags.png?cr='+this.value.toUpperCase()+'\">'\n        return     '<span style=\"margin-right:5px\" >'+translatedLables[this.value.toLowerCase()]+'</span>'+flag;\n      } else {\n        if (translatedLables[this.value.toLowerCase()] != undefined) {\n            return     '<span style=\"margin-right:5px\" >'+translatedLables[this.value.toLowerCase()]+'</span>';\n        } else {\n            return     '<span style=\"margin-right:5px\" >'+this.value.toLowerCase()+'</span>';\n        }\n      }\n    }\n}\n\n\nfunction tooltipFormat (values,translatedLables) {\n    return function () {\n        if (translatedLables[this.x.toLowerCase()] != undefined) {\n            var s = '<b>' + translatedLables[this.x.toLowerCase()] + '</b>';\n        } else {\n            var s = '<b>' + this.x + '</b>';\n        }\n        $.each(this.points, function () {\n            s += '<br/>' + this.series.name + ': ' +\n            this.y+' '+values.options.tooltipUnit;\n        });\n        return s;\n    }\n}\n\n//config functions for simple chart templates\n\n//dependencies\n//simpleChartsCore.js\n\n\nfunction addLineChart(values,container) {\n  Highcharts.setOptions({lang: { numericSymbols: null}});\n  if (values.data.data[0] != undefined) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n  }\n    function loadAndDisplayData() {\n    sbars.loadChart(values.data,{\n      highcharts :{\n        chart: {\n          type: 'line',\n          //marginBottom: 20\n        },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 10,\n        },\n        plotOptions: {\n          series: {\n          markers: {\n            enabled: false,\n            states: { hover: { enabled: true } }\n          },\n            lineWidth: 2,\n          },\n        },\n        yAxis : {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis : {\n          reversed: true,\n          tickmarkPlacement: 'on',\n          labels: {\n                    style : {\"font-size\":\"11px\"},\n                    step: null,\n                  },\n        },\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n        colors: [ \"#de3a07\", \"#408000\", \"#dca2bf\", \"#fdd14e\", \"#730000\", \"#ffa640\", \"#234010\", \"#6cc3d9\", \"#4400ff\", \"#f200a2\", \"#750039\", \"#33260d\", \"#00e61f\", \"#0099e6\", \"#1f0073\", \"#962c0b\", \"#734939\", \"#735c00\", \"#00f2a2\", \"#004996\"],\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\nfunction addLineStackedBarChart(values,container) {\n  if (values.data.data[0] != undefined) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n  }\n    function loadAndDisplayData() {\n    sbars.loadChart(values.data,{\n      highcharts :{\n        chart: {\n          type: 'column',\n          //marginBottom: 20\n        },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n          area:   {stacking: 'normal'},\n          bar:   {stacking: 'normal'},\n          column:   {stacking: 'normal'},\n          series: {\n            markers: {\n              enabled: false,\n              states: { hover: { enabled: true } }\n            },\n            lineWidth: 2,\n          },\n        },\n        yAxis : {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis : {\n          tickmarkPlacement: 'on',\n          labels: {\n                    style : {\"font-size\":\"11px\"},\n                    step: null,\n                  },\n        },\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n//      colors: ['#bbbbbb','#232323'],\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n        typeOfFirstSeries: values.options.typeOfFirstSeries || 'line',\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\nfunction addStackedAreaChart(values,container) {\n  if (values.data.data[0] != undefined) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n  }\n    function loadAndDisplayData() {\n    sbars.loadChart(values.data,{\n      highcharts :{\n        chart: {\n          type: 'area',\n          //marginBottom: 20\n        },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n          area:   {stacking: 'normal'},\n          series: {\n            markers: {\n              enabled: false,\n              states: { hover: { enabled: true } }\n            },\n            lineWidth: 2,\n          },\n        },\n        yAxis : {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis : {\n          tickmarkPlacement: 'on',\n          labels: {\n                    style : {\"font-size\":\"11px\"},\n                    step: null,\n                  },\n        },\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n//      colors: ['#bbbbbb','#232323'],\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\nfunction addBarChart(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    values.data = sortDimension0(values.data,0,desc=true);\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        chart: {\n          type: 'bar',\n          marginBottom: 10\n        },\n//        legend: { enabled: false },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n          series: {\n            dataLabels: {\n              enabled: true,\n              overflow: 'none',\n              crop: false,\n              allowOverlap: true,\n            },\n          },\n        },\n        yAxis: {\n          labels: {enabled: false},\n          gridLineWidth: 0,\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        //xAxis: {\n        //  labels: {useHTML: true}\n        //},\n//        colors: ['#88b60f','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\n\nfunction addBarChartFlag(values,container,translatedLabels) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    values.data = sortDimension0(values.data,0,desc=true);\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        chart: {\n          type: 'bar',\n          marginBottom: 10,\n          marginLeft: 150\n        },\n//        legend: { enabled: false },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n          series: {\n            dataLabels: {\n              enabled: true,\n              overflow: 'none',\n              crop: false,\n              allowOverlap: true,\n            },\n          },\n        },\n        yAxis: {\n          labels: {enabled: false},\n          gridLineWidth: 0,\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis: {\n          labels: {\n            useHTML: true,\n            formatter: labelFormat(translatedLabels)\n          }\n        },\n//        colors: ['#88b60f','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          formatter: tooltipFormat(values,translatedLabels)\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\n\nfunction addColumnChart(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    values.data = sortDimension0(values.data,0,desc=true);\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        chart: { type: 'column'},\n//        legend: { enabled: false },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n          series: {\n            dataLabels: {\n              enabled: false,\n              overflow: 'none',\n              crop: false,\n              allowOverlap: true,\n            },\n          },\n        },\n        yAxis: {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        colors: ['#88b60f','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\n\nfunction addBarsDiamondsChart(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    values.data = sortDimension0(values.data,0,desc=true);\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        chart: { type: 'line',marginBottom: 20},\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n          series: {\n            marker: {\n              enabled: true,\n            },\n          lineWidth: 0,\n          states: { hover: {\n                  lineWidth: 0,\n                  lineWidthPlus: 0,\n                }\n          }\n          },\n        },\n        yAxis: {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n//        colors: ['#bbbbbb','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        typeOfFirstSeries: 'bar',\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\n\n\nfunction addStackedColumnChart(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        chart: {\n          type: 'column',\n//          marginBottom: 20\n        },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n                    bar:   {stacking: 'normal'},\n                    column:   {stacking: 'normal'},\n        },\n        yAxis: {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis: {\n                labels: {\n                    step: null,\n                    },\n        },\n//        colors: ['#bbbbbb','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\nfunction addStackedBarChart(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    values.data = sortDimension0sum(values.data,desc=true);\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        chart: {\n          type: 'bar',\n          marginBottom: 20\n        },\n        legend: {\n          enabled: true,\n          reversed: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n                    bar:   {stacking: 'normal'},\n                    column:   {stacking: 'normal'},\n        },\n        yAxis: {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis: {\n//          opposite: true,\n//          labels : {enabled: false}\n        },\n//        colors: ['#bbbbbb','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\nfunction addPyramidRight(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        title: {text:'Men'},\n        chart: {\n          type: 'bar',\n//          marginBottom: 10\n        },\n        legend: {\n          enabled: true,\n          reversed: true,\n          verticalAlign: 'bottom',\n          padding: 5,\n          margin: 5,\n        },\n        plotOptions: {\n          bar:   {stacking: 'normal'},\n          column:   {stacking: 'normal'},\n          series: {\n              animation: false\n          }\n        },\n        yAxis: {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis: {\n          opposite: true,\n//          labels : {enabled: false}\n        },\n//        colors: ['#bbbbbb','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\n\nfunction addPyramidLeft(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        title: {text:'Women'},\n        chart: {\n          type: 'bar',\n        },\n        legend: {\n          enabled: true,\n          reversed: true,\n          verticalAlign: 'bottom',\n          padding: 5,\n          margin: 5,\n        },\n        plotOptions: {\n          bar:   {stacking: 'normal'},\n          column:   {stacking: 'normal'},\n          series: {\n              animation: false\n          }\n        },\n        xAxis: {\n//          reversed: true,\n        },\n        yAxis: {\n          min: values.options.minimum,\n          max: values.options.maximum,\n          reversed: true,\n        },\n//        colors: ['#bbbbbb','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n","\n\n// This function is anonymous, is executed immediately and\n// the return value is assigned to QueryString!\n\nvar urlQuery = function () {\n  var query_string = {};\n  var query = window.location.search.substring(1);\n  var vars = query.split(\"&\");\n  for (var i=0;i<vars.length;i++) {\n    var pair = vars[i].split(\"=\");\n        // If first entry with this name\n    if (typeof query_string[pair[0]] === \"undefined\") {\n      query_string[pair[0]] = decodeURIComponent(pair[1]);\n        // If second entry with this name\n    } else if (typeof query_string[pair[0]] === \"string\") {\n      var arr = [ query_string[pair[0]],decodeURIComponent(pair[1]) ];\n      query_string[pair[0]] = arr;\n        // If third or later entry with this name\n    } else {\n      query_string[pair[0]].push(decodeURIComponent(pair[1]));\n    }\n  }\n    return query_string;\n}();\n"]}