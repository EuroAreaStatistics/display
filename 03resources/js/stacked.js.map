{"version":3,"sources":["../../03/JScomponents/chartTypes/stackedChart.js","../../03/JScomponents/modules/dataHandler/filterDimension.js","../../03/JScomponents/modules/dataHandler/flipData.js","../../03/JScomponents/modules/dataHandler/getHumanReadData.js","../../03/JScomponents/modules/dataHandler/urlQuery.js","../../03/JScomponents/modules/dataHandler/getChartWithLabels.js","../../03/JScomponents/modules/highcharts/simpleChartsCore.js","../../03/JScomponents/modules/highcharts/simpleChartConfigs.js"],"names":["height","window","innerHeight","document","documentElement","offsetHeight","width","innerWidth","offsetWidth","config","wizardConfig","tab","project","tabs","page","stackType","chartGroup0","charts","indicator","options","chartGroup1","title","definition","indicator1","country0","country1","$","ready","updateIndicator","val","on","this","createStackedChart","change","newindicator","chartData","container","country","mode","countries","data","keys","toString","toUpperCase","chart","inArray","filterDimension","urlcountry","tabLabels","labels","translatedLabels","lang_countries","each","key","value","toLowerCase","name","values","getChartWithLabels","remove","append","lang_labels","addCountry","addPyramidRight","addPyramidLeft","addLineStackedBarChart","addStackedAreaChart","ajax","dataType","url","baseURL","success","ajaxSuccess","error","xhr","ajaxOptions","thrownError","status","alert","slider","parseFloat","min","max","length","step","slide","event","ui","d","filter","filterKeys","newData","dimensions","slice","filtered","indexOf","flipData","r","reverse","map","k","i0","i1","getHumanReadData","number","decimals","trimZeros","undefined","abs","Math","decimalAdjust","type","exp","isNaN","NaN","split","toFixed","s","replace","spaceSeparateNumber","test","commaSeparateNumber","urlQuery","query_string","query","location","search","substring","vars","i","pair","decodeURIComponent","arr","push","ChartElement","self","loadChart","newChart","chartBasis","loadData","displayCharts","displayChart","loadedData","defaults","highcharts","backgroundColor","plotOptions","series","marker","enabled","states","hover","pointPadding","borderWidth","connectNulls","exporting","legend","credits","text","xAxis","style","fontSize","yAxis","CYCoptions","typeOfFirstSeries","extend","Data","categories","index","dataPoints","y","id","cats","seriesOptions","renderTo","Highcharts","Chart","labelFormat","translatedLables","ISO3toFlags","flag","tooltipFormat","x","points","tooltipUnit","addLineChart","setOptions","lang","numericSymbols","sbars","loadAndDisplayData","verticalAlign","padding","margin","markers","lineWidth","minimum","maximum","reversed","tickmarkPlacement","font-size","tooltip","shared","useHTML","headerFormat","pointFormat","footerFormat","colors","tooltipDecimals","area","stacking","bar","column","addBarChart","sortDimension0","desc","marginBottom","dataLabels","overflow","crop","allowOverlap","gridLineWidth","addBarChartFlag","marginLeft","formatter","addColumnChart","addBarsDiamondsChart","lineWidthPlus","addStackedColumnChart","addStackedBarChart","sortDimension0sum","animation","opposite"],"mappings":"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","file":"stacked.min.js","sourcesContent":["\nvar height = \"innerHeight\" in window\n               ? window.innerHeight\n               : document.documentElement.offsetHeight;\n\nvar width = \"innerWidth\" in window\n               ? window.innerWidth\n               : document.documentElement.offsetWidth;\n\nvar config = window.wizardConfig;\nvar tab = config.project.tabs[page];\n\nvar stackType = config.tabs[tab].stackType;\n\nvar chartGroup0 = config.charts[config.tabs[tab].charts[0]];\nvar indicator = chartGroup0.options.indicator;\n\nif (stackType == 'pyramids') {\n  var chartGroup1 = {};\n  chartGroup1['title'] = config.charts[config.tabs[tab].charts[0]].title;\n  chartGroup1['definition'] = config.charts[config.tabs[tab].charts[0]].definition;\n  chartGroup1['options'] = config.charts[config.tabs[tab].charts[0]].options;\n  var indicator1 = chartGroup1.options.indicator1;\n}\n\nvar country0;\nvar country1 = 'addCountry';\n\n$(document).ready(function() {\n  if (stackType == 'pyramids') {\n    updateIndicator (indicator,'pageLoad','pyramidsRight');\n    updateIndicator (indicator1,'pageLoad','pyramidsLeft');\n  } else if (stackType == 'lineWithBars') {\n    updateIndicator (indicator,'pageLoad','lineWithBars');\n  } else {\n    updateIndicator (indicator,'pageLoad');\n  }\n  $('#chartTitle').val(config.tabs[tab].charts[0]);\n  $('body').on('change','#countrySelect',function(){\n    country0 = $(this).val();\n    if (stackType == 'pyramids') {\n      createStackedChart (window.chartGroup0,'container',country0,null,'pyramidsRight');\n      createStackedChart (window.chartGroup1,'container',country0,null,'pyramidsLeft');\n    } else if (stackType == 'lineWithBars') {\n      createStackedChart (window.chartGroup0,'container',country0,null,'lineWithBars');\n    } else {\n      createStackedChart (window.chartGroup0,'container',country0);\n    }\n  });\n  $('body').on('change','#countrySelect1',function(){\n    country1 = $(this).val();\n    if (stackType == 'pyramids') {\n      createStackedChart (window.chartGroup0,'container1',country1,null,'pyramidsRight');\n      createStackedChart (window.chartGroup1,'container1',country1,null,'pyramidsLeft');\n    } else if (stackType == 'lineWithBars') {\n      createStackedChart (window.chartGroup0,'container1',country1,null,'lineWithBars');\n    } else {\n      createStackedChart (window.chartGroup0,'container1',country1);\n    }\n  });\n  $('#chartTitle').change(function(){\n    var newindicator = $(this).val();\n    indicator = config.charts[newindicator].options.indicator;\n    if (stackType == 'lineWithBars') {\n      chartGroup0 = config.charts[newindicator];\n      updateIndicator (indicator,null,'lineWithBars');\n    } else {\n      updateIndicator (indicator);\n    }\n  });\n\n\n});\n\nfunction createStackedChart(chartData,container,country,mode,stackType) {\n  var countries = chartData.data.keys[0];\n  country = country.toString().toUpperCase();\n  var chart = {};\n  chart['title'] = chartData.title;\n  chart['definition'] = chartData.definition;\n  chart['options'] = chartData.options;\n  if ($.inArray(country,countries)>-1) {\n    chart['data'] = filterDimension (chartData.data,country);\n  } else {\n    chart['data'] = filterDimension (chartData.data,window.urlcountry);\n    if (container == 'container1') {\n      window.country1 = window.urlcountry;\n    } else {\n      window.country0 = window.urlcountry;\n    }\n  }\n  var tabLabels = config.tabs[tab].labels;\n  var translatedLabels = window.lang_countries;\n  if (tabLabels) {\n    $.each(tabLabels.labels, function(key,value){\n      translatedLabels[key.toLowerCase()] = value.name;\n    })\n  }\n\tvar values = getChartWithLabels(chart,translatedLabels);\n  if (mode == 'newIndicator') {\n    $('#countrySelect option').remove()\n    $('#countrySelect1 option').remove()\n    $('#countrySelect1').append('<option value=\"addCountry\">'+lang_labels.addCountry+'</option>')\n    $.each(lang_countries, function (key,value) {\n      if ($.inArray(key.toString().toUpperCase(),countries)>-1) {\n        $('#countrySelect').append('<option value='+key+'>'+value+'</option>')\n        $('#countrySelect1').append('<option value='+key+'>'+value+'</option>')\n      }\n    });\n    $('#countrySelect').val(window.country0);\n    $('#countrySelect1').val(window.country1);\n  }\n  if (stackType == 'pyramidsRight') {\n    addPyramidRight(values,container);\n  } else if (stackType == 'pyramidsLeft') {\n    addPyramidLeft(values,container+'A');\n  } else if (stackType == 'lineWithBars') {\n    addLineStackedBarChart(values,container);\n  } else {\n    addStackedAreaChart(values,container);\n  }\n}\n\nfunction updateIndicator (indicator,mode,stackType) {\n  $.ajax({\n    dataType: \"json\",\n    url: baseURL+\"/api-data?project=\"+window.project+\"&id=\"+indicator,\n    success: ajaxSuccess(mode,stackType),\n    error: function (xhr, ajaxOptions, thrownError) {\n      if (xhr.status == '404') {\n        alert ('No data available.')};\n    }\n  });\n}\n\n\nfunction ajaxSuccess(mode,stackType) {\n  return function (data) {\n    if (data != null) {\n      if (stackType == 'pyramidsLeft') {\n        window.country0 = window.urlcountry;\n        window.chartGroup1['data'] = data;\n        createStackedChart (window.chartGroup1,'container',country0,'newIndicator',stackType);\n        if (mode != 'pageLoad') {\n          createStackedChart (window.chartGroup1,'container1',country1,'newIndicator',stackType);\n        }\n      } else {\n        window.chartGroup0['data'] = data;\n        if ($.inArray(window.urlcountry.toString().toUpperCase(),chartGroup0.data.keys[0])==-1) {\n          window.urlcountry = chartGroup0.data.keys[0][0];\n        }\n        window.country0 = window.urlcountry;\n        createStackedChart (window.chartGroup0,'container',country0,'newIndicator',stackType);\n        if (mode != 'pageLoad') {\n          createStackedChart (window.chartGroup0,'container1',country1,'newIndicator',stackType);\n        }\n      }\n      if (window.stackType == 'pyramids') {\n        $( \"#slider\" ).slider({\n          value:parseFloat(chartGroup0.data.keys[0][0]),\n          min: parseFloat(chartGroup0.data.keys[0][0]),\n          max: parseFloat(chartGroup0.data.keys[0][chartGroup0.data.keys[0].length-1]),\n          step: 1,\n          slide: function( event, ui ) {\n            $( \"#year\" ).val(ui.value );\n            createStackedChart (window.chartGroup0,'container1',ui.value,null,'pyramidsRight');\n            createStackedChart (window.chartGroup1,'container1',ui.value,null,'pyramidsLeft');\n          }\n        });\n        $( \"#year\" ).val($( \"#slider\" ).slider( \"value\" ) );\n      }\n    } else {\n      alert('No data available.');\n    }\n  }\n}\n\n\n","\n//filters a multidimensional data object on the first dimension\n\nfunction filterDimension(d,filter) {\n\n  filter = filter.toString().toUpperCase();\n  var filterKeys = d.keys[0];\n\tvar newData = {};\n\tnewData['dimensions'] = d.dimensions.slice(1);\n\tnewData['keys'] = d.keys.slice(1);\n\n  var filtered = filterKeys.indexOf(filter);\n\tnewData['data'] = d.data[filtered];\n\n\treturn newData;\n}\n","\n\n//flips dimensions on two dimensional data model\nfunction flipData(d) {\n    var r = {keys: d.keys.slice(0), dimensions: d.dimensions.slice(0)};\n    r.keys.reverse();\n    r.dimensions.reverse();\n    r.data = r.keys[0].map(function(k, i0) {\n        return r.keys[1].map(function(k, i1) {\n            return d.data[i1][i0];\n        });\n    });\n    return r;\n}\n","// function to convert large numbers in human readable numbers\n// passing a negative number for decimals returns the unmodified number\nfunction getHumanReadData(number, decimals, trimZeros) {\n  if (decimals === undefined) {\n    decimals = 0;\n  }\n\n  if (decimals < 0) {\n    return number;\n  }\n\n  number = parseFloat(number);\n  var abs = Math.abs(number);\n\n  /* code from MDN (public domain)\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round$revision/981487#Decimal_rounding\n  */\n  /**\n   * Decimal adjustment of a number.\n   *\n   * @param {String}  type  The type of adjustment.\n   * @param {Number}  value The number.\n   * @param {Integer} exp   The exponent (the 10 logarithm of the adjustment base).\n   * @returns {Number} The adjusted value.\n   */\n  function decimalAdjust(type, value, exp) {\n    // If the exp is undefined or zero...\n    if (typeof exp === 'undefined' || +exp === 0) {\n      return Math[type](value);\n    }\n    value = +value;\n    exp = +exp;\n    // If the value is not a number or the exp is not an integer...\n    if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n      return NaN;\n    }\n    // Shift\n    value = value.toString().split('e');\n    value = Math[type](+(value[0] + 'e' + (value[1] ? (+value[1] - exp) : -exp)));\n    // Shift back\n    value = value.toString().split('e');\n    return +(value[0] + 'e' + (value[1] ? (+value[1] + exp) : exp));\n  }\n\n  function toFixed(number, decimals) {\n    var s = decimalAdjust('round', number, -decimals).toFixed(decimals);\n    return trimZeros ? s.replace(/\\.0+$|(\\..*?)0+$/,'$1') : s;\n  }\n\n  // this function prints larger number in OECD format 10 000.23 usw.\n  function spaceSeparateNumber(val){\n    while (/(\\d+)(\\d{3})/.test(val.toString())){\n      val = val.toString().replace(/(\\d+)(\\d{3})/, '$1' + ' ' + '$2');\n    }\n    return val;\n  }\n\n  // this function prints larger number in US format 10,000.23 usw.\n  function commaSeparateNumber(val){\n    while (/(\\d+)(\\d{3})/.test(val.toString())){\n      val = val.toString().replace(/(\\d+)(\\d{3})/, '$1' + ',' + '$2');\n    }\n    return val;\n  }\n\n  if(abs > 1e12) {\n    return toFixed(number / 1e12, decimals) + '&nbsp;' + window.lang_labels['trillion'];\n  } else if(abs > 1e9) {\n    return toFixed(number / 1e9, decimals) + '&nbsp;' + window.lang_labels['billion'];\n  } else if(abs > 1e6) {\n    return toFixed(number / 1e6, decimals) + '&nbsp;' + window.lang_labels['million'];\n  } else if(abs > 1e5) {\n    return toFixed(number / 1e3, decimals) + '&nbsp;' + window.lang_labels['thousand'];\n  } else {\n    return spaceSeparateNumber(toFixed(number, decimals));\n  }\n}\n","\n\n// This function is anonymous, is executed immediately and\n// the return value is assigned to QueryString!\n\nvar urlQuery = function () {\n  var query_string = {};\n  var query = window.location.search.substring(1);\n  var vars = query.split(\"&\");\n  for (var i=0;i<vars.length;i++) {\n    var pair = vars[i].split(\"=\");\n        // If first entry with this name\n    if (typeof query_string[pair[0]] === \"undefined\") {\n      query_string[pair[0]] = decodeURIComponent(pair[1]);\n        // If second entry with this name\n    } else if (typeof query_string[pair[0]] === \"string\") {\n      var arr = [ query_string[pair[0]],decodeURIComponent(pair[1]) ];\n      query_string[pair[0]] = arr;\n        // If third or later entry with this name\n    } else {\n      query_string[pair[0]].push(decodeURIComponent(pair[1]));\n    }\n  }\n    return query_string;\n}();\n","\n\n\nfunction getChartWithLabels(d,lang_countries) {\n\tvar newData = {}\n\tnewData['options'] = d.options;\n\tnewData['title'] = d.title;\n\tnewData['definition'] = d.definition;\n\tnewData['data'] = {}\n\tnewData.data['dimensions'] = d.data.dimensions;\n\tnewData.data['data'] = d.data.data;\n\tnewData.data['keys'] = [];\n\tnewData.data['keys'][0] = [];\n\tnewData.data['keys'][1] = [];\n\t$.each(d.data.keys[0], function(key,val){\n\t\tif (val.toLowerCase() in lang_countries) {\n\t\t\tnewData.data['keys'][0][key] = lang_countries[val.toLowerCase()];\n\t\t} else {\n\t\t\tnewData.data['keys'][0][key] = val;\n\t\t}\n\t});\n\t$.each(d.data.keys[1], function(key,val){\n\t\tif (val.toLowerCase() in lang_countries) {\n\t\t\tnewData.data['keys'][1][key] = lang_countries[val.toLowerCase()];\n\t\t} else {\n\t\t\tnewData.data['keys'][1][key] = val;\n\t\t}\n\t});\n\treturn newData;\n}\n\n","\n\n// class for simple chart\n\n//dependencies\n//highcharts.js\n\n// class for a collection of charts\nfunction ChartElement() {\n    var self = this;\n    var chart ;\n// configure, load and add chart to collection\n    self.loadChart = function(data, options) {\n        var newChart = new chartBasis(data, options);\n        newChart.loadData();\n        chart = newChart;\n    };\n    self.displayCharts = function(container) {\n        chart.displayChart(container)\n    };\n}\n\n\n\nfunction chartBasis(data, options) {\n    var self = this;\n    var loadedData = {};\n    var defaults = {\n        highcharts : {\n            chart : {\n                backgroundColor:'transparent'\n            },\n            plotOptions: {\n                series: {\n                    marker: {\n                        enabled: false,\n                        states: { hover: { enabled: true } }\n                    },\n                    pointPadding: 0,\n                    borderWidth: 0,\n                    connectNulls: true,\n                }\n            },\n            exporting: { enabled: false },\n            legend: { enabled: false },\n            credits: { enabled: false },\n            title : {text: null},\n            xAxis:{\n                labels: {\n                    step: 1,\n                    style : {fontSize: '1em'}\n                    },\n            },\n            yAxis : {\n                title: {text: null },\n            },\n        },\n        CYCoptions : {\n            typeOfFirstSeries: null,\n        }\n    };\n// custom CYC options\n    options = $.extend(true, defaults, options);\n\n    self.loadData = function() {\n        var Data=[];\n        var categories = data.keys[1];\n        $.each(data.keys[0], function(index, name) {\n            var dataPoints =  data.data[index].map(function(y, i) {\n                if (y != null) {\n                    return {y: parseFloat(y.toFixed(options.CYCoptions.decimals)), id: categories[i], name: categories[i]};\n                } else {\n                    return {y: null, id: categories[i]};\n                }\n\n            });\n            Data.push({name: name, data: dataPoints});\n        });\n        if (options.CYCoptions.typeOfFirstSeries != null) {\n            Data[0].type = options.CYCoptions.typeOfFirstSeries;\n        }\n\n        loadedData = {cats: categories, series: Data};\n    };\n\n    self.displayChart = function(container) {\n        var data = loadedData;\n        if (data == null) return false;\n        var seriesOptions = {\n            chart:{ renderTo:container},\n            xAxis:{categories:data.cats},\n            series:data.series\n        };\n        options.highcharts = $.extend(true, options.highcharts, seriesOptions);\n        new Highcharts.Chart(options.highcharts);\n        return true;\n    };\n}\n\n\n","\n\nfunction labelFormat (translatedLables) {\n    return function () {\n//        add flags with ISO codes as short form for countries\n      if (this.value.toUpperCase() in window.ISO3toFlags) {\n        var flag = '<img  style=\"margin-bottom:4px\" height=18px src=\"'+baseURL+'/flags.png?cr='+this.value.toUpperCase()+'\">'\n        return     '<span style=\"margin-right:5px\" >'+translatedLables[this.value.toLowerCase()]+'</span>'+flag;\n      } else {\n        if (translatedLables[this.value.toLowerCase()] != undefined) {\n            return     '<span style=\"margin-right:5px\" >'+translatedLables[this.value.toLowerCase()]+'</span>';\n        } else {\n            return     '<span style=\"margin-right:5px\" >'+this.value.toLowerCase()+'</span>';\n        }\n      }\n    }\n}\n\n\nfunction tooltipFormat (values,translatedLables) {\n    return function () {\n        if (translatedLables[this.x.toLowerCase()] != undefined) {\n            var s = '<b>' + translatedLables[this.x.toLowerCase()] + '</b>';\n        } else {\n            var s = '<b>' + this.x + '</b>';\n        }\n        $.each(this.points, function () {\n            s += '<br/>' + this.series.name + ': ' +\n            this.y+' '+values.options.tooltipUnit;\n        });\n        return s;\n    }\n}\n\n//config functions for simple chart templates\n\n//dependencies\n//simpleChartsCore.js\n\n\nfunction addLineChart(values,container) {\n  Highcharts.setOptions({lang: { numericSymbols: null}});\n  if (values.data.data[0] != undefined) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n  }\n    function loadAndDisplayData() {\n    sbars.loadChart(values.data,{\n      highcharts :{\n        chart: {\n          type: 'line',\n          //marginBottom: 20\n        },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 10,\n        },\n        plotOptions: {\n          series: {\n          markers: {\n            enabled: false,\n            states: { hover: { enabled: true } }\n          },\n            lineWidth: 2,\n          },\n        },\n        yAxis : {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis : {\n          reversed: true,\n          tickmarkPlacement: 'on',\n          labels: {\n                    style : {\"font-size\":\"11px\"},\n                    step: null,\n                  },\n        },\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n        colors: [ \"#de3a07\", \"#408000\", \"#dca2bf\", \"#fdd14e\", \"#730000\", \"#ffa640\", \"#234010\", \"#6cc3d9\", \"#4400ff\", \"#f200a2\", \"#750039\", \"#33260d\", \"#00e61f\", \"#0099e6\", \"#1f0073\", \"#962c0b\", \"#734939\", \"#735c00\", \"#00f2a2\", \"#004996\"],\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\nfunction addLineStackedBarChart(values,container) {\n  if (values.data.data[0] != undefined) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n  }\n    function loadAndDisplayData() {\n    sbars.loadChart(values.data,{\n      highcharts :{\n        chart: {\n          type: 'column',\n          //marginBottom: 20\n        },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n          area:   {stacking: 'normal'},\n          bar:   {stacking: 'normal'},\n          column:   {stacking: 'normal'},\n          series: {\n            markers: {\n              enabled: false,\n              states: { hover: { enabled: true } }\n            },\n            lineWidth: 2,\n          },\n        },\n        yAxis : {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis : {\n          tickmarkPlacement: 'on',\n          labels: {\n                    style : {\"font-size\":\"11px\"},\n                    step: null,\n                  },\n        },\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n//      colors: ['#bbbbbb','#232323'],\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n        typeOfFirstSeries: values.options.typeOfFirstSeries || 'line',\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\nfunction addStackedAreaChart(values,container) {\n  if (values.data.data[0] != undefined) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n  }\n    function loadAndDisplayData() {\n    sbars.loadChart(values.data,{\n      highcharts :{\n        chart: {\n          type: 'area',\n          //marginBottom: 20\n        },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n          area:   {stacking: 'normal'},\n          series: {\n            markers: {\n              enabled: false,\n              states: { hover: { enabled: true } }\n            },\n            lineWidth: 2,\n          },\n        },\n        yAxis : {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis : {\n          tickmarkPlacement: 'on',\n          labels: {\n                    style : {\"font-size\":\"11px\"},\n                    step: null,\n                  },\n        },\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n//      colors: ['#bbbbbb','#232323'],\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\nfunction addBarChart(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    values.data = sortDimension0(values.data,0,desc=true);\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        chart: {\n          type: 'bar',\n          marginBottom: 10\n        },\n//        legend: { enabled: false },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n          series: {\n            dataLabels: {\n              enabled: true,\n              overflow: 'none',\n              crop: false,\n              allowOverlap: true,\n            },\n          },\n        },\n        yAxis: {\n          labels: {enabled: false},\n          gridLineWidth: 0,\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        //xAxis: {\n        //  labels: {useHTML: true}\n        //},\n//        colors: ['#88b60f','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\n\nfunction addBarChartFlag(values,container,translatedLabels) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    values.data = sortDimension0(values.data,0,desc=true);\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        chart: {\n          type: 'bar',\n          marginBottom: 10,\n          marginLeft: 150\n        },\n//        legend: { enabled: false },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n          series: {\n            dataLabels: {\n              enabled: true,\n              overflow: 'none',\n              crop: false,\n              allowOverlap: true,\n            },\n          },\n        },\n        yAxis: {\n          labels: {enabled: false},\n          gridLineWidth: 0,\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis: {\n          labels: {\n            useHTML: true,\n            formatter: labelFormat(translatedLabels)\n          }\n        },\n//        colors: ['#88b60f','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          formatter: tooltipFormat(values,translatedLabels)\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\n\nfunction addColumnChart(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    values.data = sortDimension0(values.data,0,desc=true);\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        chart: { type: 'column'},\n//        legend: { enabled: false },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n          series: {\n            dataLabels: {\n              enabled: false,\n              overflow: 'none',\n              crop: false,\n              allowOverlap: true,\n            },\n          },\n        },\n        yAxis: {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        colors: ['#88b60f','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\n\nfunction addBarsDiamondsChart(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    values.data = sortDimension0(values.data,0,desc=true);\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        chart: { type: 'line',marginBottom: 20},\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n          series: {\n            marker: {\n              enabled: true,\n            },\n          lineWidth: 0,\n          states: { hover: {\n                  lineWidth: 0,\n                  lineWidthPlus: 0,\n                }\n          }\n          },\n        },\n        yAxis: {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n//        colors: ['#bbbbbb','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        typeOfFirstSeries: 'bar',\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\n\n\nfunction addStackedColumnChart(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        chart: {\n          type: 'column',\n//          marginBottom: 20\n        },\n        legend: {\n          enabled: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n                    bar:   {stacking: 'normal'},\n                    column:   {stacking: 'normal'},\n        },\n        yAxis: {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis: {\n                labels: {\n                    step: null,\n                    },\n        },\n//        colors: ['#bbbbbb','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\nfunction addStackedBarChart(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    values.data = sortDimension0sum(values.data,desc=true);\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        chart: {\n          type: 'bar',\n          marginBottom: 20\n        },\n        legend: {\n          enabled: true,\n          reversed: true,\n          verticalAlign: 'top',\n          padding: 0,\n          margin: 5,\n        },\n        plotOptions: {\n                    bar:   {stacking: 'normal'},\n                    column:   {stacking: 'normal'},\n        },\n        yAxis: {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis: {\n//          opposite: true,\n//          labels : {enabled: false}\n        },\n//        colors: ['#bbbbbb','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\nfunction addPyramidRight(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        title: {text:'Men'},\n        chart: {\n          type: 'bar',\n//          marginBottom: 10\n        },\n        legend: {\n          enabled: true,\n          reversed: true,\n          verticalAlign: 'bottom',\n          padding: 5,\n          margin: 5,\n        },\n        plotOptions: {\n          bar:   {stacking: 'normal'},\n          column:   {stacking: 'normal'},\n          series: {\n              animation: false\n          }\n        },\n        yAxis: {\n          min: values.options.minimum,\n          max: values.options.maximum,\n        },\n        xAxis: {\n          opposite: true,\n//          labels : {enabled: false}\n        },\n//        colors: ['#bbbbbb','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n\n\nfunction addPyramidLeft(values,container) {\n    var sbars = new ChartElement();\n    loadAndDisplayData();\n    function loadAndDisplayData() {\n    sbars.loadChart(flipData(values.data),{\n      highcharts :{\n        title: {text:'Women'},\n        chart: {\n          type: 'bar',\n        },\n        legend: {\n          enabled: true,\n          reversed: true,\n          verticalAlign: 'bottom',\n          padding: 5,\n          margin: 5,\n        },\n        plotOptions: {\n          bar:   {stacking: 'normal'},\n          column:   {stacking: 'normal'},\n          series: {\n              animation: false\n          }\n        },\n        xAxis: {\n//          reversed: true,\n        },\n        yAxis: {\n          min: values.options.minimum,\n          max: values.options.maximum,\n          reversed: true,\n        },\n//        colors: ['#bbbbbb','#232323'],\n        tooltip: {\n          shared: true,\n          useHTML: true,\n          headerFormat: '<small>{point.key}</small><table>',\n          pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td>' +\n          '<td style=\"text-align: right\"><b>{point.y}'+values.options.tooltipUnit+'</b></td></tr>',\n          footerFormat: '</table>',\n        },\n      },\n      CYCoptions : {\n        decimals: values.options.tooltipDecimals,\n      }\n    });\n        sbars.displayCharts(container);\n    }\n}\n"]}