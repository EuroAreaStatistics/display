{"version":3,"sources":["../../03/JScomponents/modules/dataHandler/getHumanReadData.js","../../03/JScomponents/chartTypes/fourLines/main.js","../../03/JScomponents/chartTypes/fourLines/drawFourLinesMulti.js","../../03/JScomponents/chartTypes/fourLines/MakeChart.js","../../03/JScomponents/chartTypes/fourLines/syncScales.js","../../03/JScomponents/chartTypes/fourLines/updateCharts.js","../../03/JScomponents/chartTypes/fourLines/linesInteract.js"],"names":["getHumanReadData","number","decimals","trimZeros","undefined","parseFloat","abs","Math","decimalAdjust","type","value","exp","isNaN","NaN","toString","split","toFixed","s","replace","spaceSeparateNumber","val","test","commaSeparateNumber","window","lang_labels","NumberOfFourLinesCharts","NumberOfColumnCharts","template","Chart","length","ConfigProject","getPageCharts","wizardConfig","page","syncScale","tabs","project","tabID","DataFourLines","i","DataColumns","charts","plotBand","plotLines","tooltips","enabled","lineWidth","connectNulls","datetime_xAxis","options","xaxis","datetime_formats","year","labelsxAxis","autoRotation","style","fontSize","yAxisLabels","textOverflow","whiteSpace","align","x","y","selectedCountries","selectedColors","default_min","default_max","clicked","goaldata","marginsBar","margins","labelsYaxis","gridLinesYaxis","xAxisMin","colors","defaultColor","urlcountryColor","oecdColor","SeriesColor","SeriesColor1","tooltip","shared","useHTML","headerFormat","pointFormat","footerFormat","valueDecimals","tooltipA","$","document","ready","tooltipClass","themeURL","tab","pageCharts","each","k","v","quarterlyData","chart","data","keys","drawFourLines","drawFourLinesMulti","code","urlcountry","list","element","a","push","updateColumnChart","dataKey","removeHighlights","highlightCountry","highlightCountryColumn","countryCode","seriesColor","removeCountryHighlightColumn","removeHighlightCountry","drawColumns","chartOptions","yAxis","min","max","MakeChart","loadData","compareBy","b","objectUnion","obj1","obj2","prop","indexOf","substring","humanPoint","this","points","series","tooltipHeaderFormatter","tooltipFooterHeaderFormatter","tooltipOptions","color","name","valuePrefix","valueSuffix","extend","tooltipDecimals","tooltipUnit","formatter","dateTimeLabelFormats","month","minimum","maximum","map","l","dashStyle","width","label","plotband","from","Date","UTC","start","to","end","show","html","projections","attr","addClass","removeClass","toUpperCase","click","country","hasClass","removeCountryFromChart","removeAttr","urlcountries","toLowerCase","splice","activeSeries","closest","find","maxSeries","countryToRemove","addCountryToChart","css","syncScales","slice","forEach","filter","trigger","change","setData","updateChart","hide","toggle","chartDefaults","idx","chartDefault","default_chart_collection","source_url","default_options","zoomType","resetZoomButton","theme","display","events","selection","ev","xAxis","target","container","parent","animation","spacingBottom","margin","backgroundColor","plotOptions","borderWidth","shadow","marker","radius","states","hover","legend","credits","tickmarkPlacement","tickLength","plotBands","categories","labels","title","text","minPadding","maxPadding","exporting","renderTo","minValue","maxValue","numChartsToLoad","loadJSON","key1","key2","ids","isNumeric","dates","m","match","j","d","default_country_key","datapoint","isArray","dataMin","dataMax","chartSeries","id","lang_countries","tag","Highcharts","zoomOut","datafile","self","selectedYear","parseJSONData","years","countryName","isoCode","ISOcodes","CRStoISO3","items","lastValue","lastYear","countryobj","iso","sort","drawChart","curData","defaultOptions","e","tickWidth","gridLineWidth","pointPadding","groupPadding","dataLabels","overflow","crop","allowOverlap","column","stacking","tooltipChartUrl","sortChart","comparator","matchSort","otherChart","newGoalData","goalDataDict","ckey","cval","dataItem","isoArr","oldColor","highlightSecondaryCountries","isos","visible","setExtremes","index","params","cr","lg","lang","embed","url","encodeURIComponent","join","location","lastCountryCode","countrycode","remove","key","countryData","addSeries"],"mappings":"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","file":"fourLines.min.js","sourcesContent":["// function to convert large numbers in human readable numbers\n// passing a negative number for decimals returns the unmodified number\nfunction getHumanReadData(number, decimals, trimZeros) {\n  if (decimals === undefined) {\n    decimals = 0;\n  }\n\n  if (decimals < 0) {\n    return number;\n  }\n\n  number = parseFloat(number);\n  var abs = Math.abs(number);\n\n  /* code from MDN (public domain)\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round$revision/981487#Decimal_rounding\n  */\n  /**\n   * Decimal adjustment of a number.\n   *\n   * @param {String}  type  The type of adjustment.\n   * @param {Number}  value The number.\n   * @param {Integer} exp   The exponent (the 10 logarithm of the adjustment base).\n   * @returns {Number} The adjusted value.\n   */\n  function decimalAdjust(type, value, exp) {\n    // If the exp is undefined or zero...\n    if (typeof exp === 'undefined' || +exp === 0) {\n      return Math[type](value);\n    }\n    value = +value;\n    exp = +exp;\n    // If the value is not a number or the exp is not an integer...\n    if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n      return NaN;\n    }\n    // Shift\n    value = value.toString().split('e');\n    value = Math[type](+(value[0] + 'e' + (value[1] ? (+value[1] - exp) : -exp)));\n    // Shift back\n    value = value.toString().split('e');\n    return +(value[0] + 'e' + (value[1] ? (+value[1] + exp) : exp));\n  }\n\n  function toFixed(number, decimals) {\n    var s = decimalAdjust('round', number, -decimals).toFixed(decimals);\n    return trimZeros ? s.replace(/\\.0+$|(\\..*?)0+$/,'$1') : s;\n  }\n\n  // this function prints larger number in OECD format 10 000.23 usw.\n  function spaceSeparateNumber(val){\n    while (/(\\d+)(\\d{3})/.test(val.toString())){\n      val = val.toString().replace(/(\\d+)(\\d{3})/, '$1' + ' ' + '$2');\n    }\n    return val;\n  }\n\n  // this function prints larger number in US format 10,000.23 usw.\n  function commaSeparateNumber(val){\n    while (/(\\d+)(\\d{3})/.test(val.toString())){\n      val = val.toString().replace(/(\\d+)(\\d{3})/, '$1' + ',' + '$2');\n    }\n    return val;\n  }\n\n  if(abs > 1e12) {\n    return toFixed(number / 1e12, decimals) + '&nbsp;' + window.lang_labels['trillion'];\n  } else if(abs > 1e9) {\n    return toFixed(number / 1e9, decimals) + '&nbsp;' + window.lang_labels['billion'];\n  } else if(abs > 1e6) {\n    return toFixed(number / 1e6, decimals) + '&nbsp;' + window.lang_labels['million'];\n  } else if(abs > 1e5) {\n    return toFixed(number / 1e3, decimals) + '&nbsp;' + window.lang_labels['thousand'];\n  } else {\n    return spaceSeparateNumber(toFixed(number, decimals));\n  }\n}\n","var NumberOfFourLinesCharts;\nvar NumberOfColumnCharts;\n\nif (template == 1) {\n  NumberOfFourLinesCharts = Chart.length;\n} else if (template == 2) {\n  NumberOfColumnCharts = Chart.length;\n} else if (template == 3) {\n  NumberOfFourLinesCharts = Chart.length;\n  NumberOfColumnCharts = Chart.length;\n}\n\nvar ConfigProject = getPageCharts (wizardConfig, page);\n\nvar syncScale = wizardConfig.tabs[wizardConfig.project.tabs[page]].syncScale;\n\nvar tabID = wizardConfig.project.tabs[page];\n\nvar DataFourLines = [];\nfor (var i = 0; i < NumberOfFourLinesCharts; i++) {\n  DataFourLines[i] = ConfigProject[Chart[i]]['data'];\n}\n\nvar DataColumns = [];\nfor (var i = 0; i < NumberOfColumnCharts; i++) {\n  DataColumns[i] = ConfigProject[Chart[i]]['data'];\n}\n\nvar charts;\n\nvar plotBand = null;\nvar plotLines = {};\nvar tooltips = {enabled: true};\n\nvar lineWidth = 3;\nvar connectNulls = true;\nvar datetime_xAxis = true;\n\nif (ConfigProject[Chart[0]].options.xaxis == 'category') {\n  datetime_xAxis = false;\n}\n\nvar datetime_formats = { year: '%Y' };\nvar labelsxAxis = {enabled: true, autoRotation: [0], style: { fontSize: '12px' }};\nvar yAxisLabels = {\n  style: { fontSize: '12px', textOverflow: 'none', whiteSpace: 'nowrap' },\n  align: 'left',\n  x: 0,\n  y: -3\n};\n\nvar selectedCountries = [];\nvar selectedColors = [];\nvar default_min = null;\nvar default_max = null;\n\nvar options;\nvar clicked = false;\nvar goaldata = [];\n\nvar marginsBar = [0, 10, 10, 5];\nvar margins = [20, 10, 25, 10];\n\nif (ConfigProject[Chart[0]].options.xaxis == 'category') {\n  margins = [20, 10, null, 10];\n}\n\nvar labelsYaxis = {enabled: false};\nvar gridLinesYaxis = 0;\nvar tooltips = true;\nvar xAxisMin = null;\n\nvar colors = ['#0072be', '#de3a07'];\nvar defaultColor = ['#c3c3c3'];\nvar urlcountryColor = '#0071c4';\nvar oecdColor = '#646464';\nvar SeriesColor = '#408000';\nvar SeriesColor1 = '#ff0000';\n\nvar tooltip = {\n  shared: true,\n  useHTML: true,\n  headerFormat: '<small>{point.key}</small><table>',\n  pointFormat: '',\n  footerFormat: '</table>',\n  valueDecimals: 0\n};\n\nvar tooltipA = {\n  shared: true,\n  useHTML: true,\n  headerFormat: '{point.key}<table>',\n  pointFormat: '',\n  footerFormat: '</table>',\n  valueDecimals: 0\n};\n\n// settings for barsLines template\nif (template == 3) {\n  var yAxisLabels = {\n    style: { fontSize: '10px' },\n    align: 'right',\n    x: -7,\n    y: +3\n  };\n  var margins = [15, 10, 25, 35]; // [45, 8, 15, 25] when yAxis labels set\n  var marginsBar = [15, 0, 25, 10];\n  var gridLinesYaxis = 1;\n  $(document).ready(function() {\n    $( document ).tooltip({ tooltipClass: \"custom-tooltip-styling\" });\n  });\n}\n\nif (themeURL == 'ecb') {\n  var lineWidth = 2;\n  var connectNulls = false;\n  var colors = ['#004996'];\n  var datetime_formats = { year: '%y' };\n}\n\n\nfor (i = 0; i < NumberOfFourLinesCharts; i++) {\n  window['tooltip' + i] = {enabled: true};\n  window['maximum' + i] = null;\n  window['minimum' + i] = null;\n}\n\nfor (var i = 0; i < NumberOfColumnCharts; i++) {\n  window['chart' + i];\n  window['plotline' + i] = null;\n  window['tooltipA' + i] = {enabled: true};\n}\n\nfunction getPageCharts (wizardConfig, page) {\n  var tab = wizardConfig.project.tabs[page];\n  var charts = wizardConfig.tabs[tab].charts;\n  var pageCharts = {};\n  $.each(charts, function (k, v){\n    pageCharts[v] = wizardConfig.charts[v];\n  });\n  return pageCharts;\n}\n\n// check if chart has time format yyyy-Qq\nfunction quarterlyData (chart) {\n  return chart.data && /^\\d{4}-Q\\d$/.test(chart.data.keys[1][0]);\n}\n\nfunction drawFourLines() {\n  drawFourLinesMulti([{code: urlcountry, options: {}}]);\n}\n\n// make a list out of <length> copies of <element>\nfunction list(element, length) {\n  var a = [];\n  while(length--) {\n    a.push(element);\n  }\n  return a;\n}\n\nfunction updateColumnChart (dataKey) {\n  for (var i = 0; i < NumberOfColumnCharts; i++) {\n    window['chart' + i].removeHighlights(SeriesColor1);\n    window['chart' + i].removeHighlights(SeriesColor);\n    window['chart' + i].highlightCountry(dataKey, SeriesColor1);\n  }\n}\n\nfunction highlightCountryColumn(countryCode, seriesColor) {\n  for (var i = 0; i < NumberOfColumnCharts; i++) {\n    window['chart' + i].highlightCountry(countryCode, seriesColor);\n  }\n}\n\nfunction removeCountryHighlightColumn(countryCode) {\n  for (var i = 0; i < NumberOfColumnCharts; i++) {\n    window['chart' + i].removeHighlightCountry(countryCode);\n  }\n}\n\nfunction drawColumns() {\n  var chartOptions = [];\n  for (var i = 0; i < NumberOfColumnCharts; i++) {\n    chartOptions[i] = {\n      yAxis: {\n        plotLines: window['plotline' + i],\n        min: window['minimum' + i],\n        max: window['maximum' + i]\n      },\n      tooltip: window['tooltipA' + i]\n    };\n    window['chart' + i] = new MakeChart(DataColumns[i], 'containerColumns' + i, chartOptions[i]);\n    window['chart' + i].loadData();\n  }\n}\n\nfunction compareBy(x){\n  return function(a, b) {\n    return (a[x] - b[x]);\n  };\n}\n\nfunction objectUnion(obj1, obj2) {\n  for (var prop in obj2) {\n    if (typeof(obj2[prop]) == 'object' && obj1[prop] != undefined) {\n      if (prop.indexOf('replace_') == 0) {\n        obj1[prop.substring(8)] = obj2[prop];\n      } else {\n        obj1[prop] = objectUnion(obj1[prop], obj2[prop]);\n      }\n    } else {\n      obj1[prop] = obj2[prop];\n    }\n  }\n  return obj1;\n}\n\n// prints larger number in US format 10,000.23 usw.\nfunction commaSeparateNumber(val){\n  while (/(\\d+)(\\d{3})/.test(val.toString())){\n    val = val.toString().replace(/(\\d+)(\\d{3})/, '$1' + ',' + '$2');\n  }\n  return val;\n}\n\n// set tooltips for active charts\n(function () {\n  // format point with human readable numbers\n  function humanPoint(pointFormat) {\n    var s;\n    if (this.points[0].series.tooltipHeaderFormatter) {\n      s = this.points[0].series.tooltipHeaderFormatter(this.points[0]);\n    } else if (pointFormat.tooltipHeaderFormatter) {\n      s = pointFormat.tooltipHeaderFormatter(this.points[0]);\n    } else {\n      s = pointFormat.tooltipFooterHeaderFormatter(this.points[0]);\n    }\n    for (var i = 0; i < this.points.length; i++) {\n      var options = this.points[i].series.tooltipOptions;\n      s += '<tr><td style=\"color: ' + this.points[i].series.color;\n      s += '\">' + this.points[i].series.name;\n      s += ': </td><td style=\"text-align: right\"><b>';\n      s += options.valuePrefix || \"\";\n      s += getHumanReadData(this.points[i].y, options.valueDecimals);\n      s += options.valueSuffix || \"\";\n      s += '</b></td></tr>';\n    }\n    s += this.points[0].series.tooltipOptions.footerFormat;\n    return s;\n  }\n\n  for (var i = 0; i < window.Chart.length; i++) {\n    var chart = wizardConfig.charts[window.Chart[i]];\n    window[\"tooltip\" + i] = $.extend({}, tooltip, {\n      pointFormat: '<tr><td style=\"color: {series.color}\">{series.name}: </td><td style=\"text-align: right\"><b>{point.y}</b></td></tr>',\n      valueDecimals: chart.options.tooltipDecimals,\n      valueSuffix: chart.options.tooltipUnit,\n      formatter: humanPoint\n    });\n    if (quarterlyData(chart)) {\n      window[\"tooltip\" + i].dateTimeLabelFormats = { month: '%Y-Q%Q' };\n    }\n    window[\"tooltipA\" + i] = $.extend({}, tooltipA, {\n      pointFormat: '<tr><td style=\"color: {series.color} text-align: left\"><small>{point.y}</small></td></tr>',\n      valueDecimals: chart.options.tooltipDecimals,\n      valueSuffix: chart.options.tooltipUnit\n    });\n    window[\"minimum\" + i] = chart.options.minimum;\n    window[\"maximum\" + i] = chart.options.maximum;\n    if (chart.plotLines != null) {\n      plotLines[i] = chart.plotLines.map(function(l) {\n        return $.extend(true, {color: '#000000', dashStyle: 'Dash', width: 2, label: {align: \"right\", style: {color: \"#606060\", fontSize: \"10px\"}}}, l);\n      });\n    }\n  }\n})();\n\nif (wizardConfig.tabs[tabID].plotband != undefined && wizardConfig.tabs[tabID].plotband[0] == 'projections') {\n  plotBand = [{\n    color: '#C6C9FF',\n    from: Date.UTC(wizardConfig.tabs[tabID].plotband[1].start,0,0),\n    to: Date.UTC(wizardConfig.tabs[tabID].plotband[1].end,0,0)\n  }];\n  $(function() {\n    $('#legendleft').show();\n    $('#legendleft').html(\"<ul><li><span class='sharebutton' style='background-color:#C6C9FF; margin-right: 5px; padding-top: 0px; padding-bottom: 0px;'></span><span style='color:#000000;'> = \" + lang_labels.projections + \"</span></li></ul>\");\n  });\n}\n\nif (wizardConfig.tabs[tabID].xAxisMin != undefined) {\n  xAxisMin = wizardConfig.tabs[tabID].xAxisMin;\n}\n\n\n$(function() {\n  drawFourLines();\n  drawColumns();\n\n  $('button.country-buttons.buttondefault')\n       .attr(\"series\", 1)\n       .addClass(\"buttonactive\")\n       .removeClass(\"buttondefault\");\n\n// highlightCountryColumn(urlcountry.toUpperCase(), $('button.country-buttons.buttonactive').css(\"background-color\"));\n  highlightCountryColumn(urlcountry.toUpperCase(), '#0071c4');\n\n  $('button.country-buttons').click(function(){\n    var country = $(this).attr(\"code\").toUpperCase();\n    if ($(this).hasClass(\"buttonactive\")) {\n      removeCountryFromChart(country);\n      removeCountryHighlightColumn(country);\n      $(this).removeClass(\"buttonactive\");\n      $(this).removeAttr(\"series\");\n      if (urlcountries.indexOf(country.toLowerCase()) > -1) {\n        urlcountries.splice(urlcountries.indexOf(country.toLowerCase()), 1);\n      }\n    } else {\n      var activeSeries = {};\n      $(this).closest('.buttonpanel')\n             .find('button.country-buttons.buttonactive')\n             .each(function() {\n               activeSeries[$(this).attr(\"series\")] = this;\n             });\n      var series = 1;\n      while (series in activeSeries && series <= maxSeries) {\n        series++;\n      }\n      if (series > maxSeries) {\n        // remove country with maxSeries\n        series = maxSeries;\n        var countryToRemove = $(activeSeries[series]).attr(\"code\").toUpperCase();\n        removeCountryFromChart(countryToRemove);\n        removeCountryHighlightColumn(countryToRemove);\n        $(activeSeries[series]).removeClass(\"buttonactive\");\n        $(activeSeries[series]).removeAttr(\"series\");\n        if (urlcountries.indexOf(countryToRemove.toLowerCase()) > -1) {\n          urlcountries.splice(urlcountries.indexOf(countryToRemove.toLowerCase()), 1);\n        }\n      }\n      $(this).attr(\"series\", series);\n      $(this).addClass(\"buttonactive\");\n      addCountryToChart(country, $(this).css(\"background-color\"));\n      highlightCountryColumn(country, $(this).css(\"background-color\"));\n      if (urlcountries.indexOf(country.toLowerCase()) < 0) {\n        urlcountries.push(country.toLowerCase());\n      }\n      if (series == 1) {\n        urlcountry = country.toLowerCase();\n      }\n    }\n    if (syncScale){\n      syncScales();\n    }\n  });\n\n  // select additional countries\n  urlcountries.slice(1, maxSeries).forEach(function (code) {\n    code = code.toUpperCase();\n    $('button.country-buttons').filter(function() { return $(this).attr('code').toUpperCase() === code; }).filter(':visible').trigger('click');\n  });\n\n  $('#countrySelect1').change(function(){\n    setData($(this).attr(\"value\"));\n    updateColumnChart($(this).attr('value'));\n  });\n\n  $.each(window.Chart, function(k, v){\n    $('#DataSelect' + k).val(v);\n    $('#DataSelect' + k).change(updateChart(k));\n  });\n\n  $('.DefI').hide();\n  $('#def').show();\n  if (themeURL != 'ecb') {\n    $('#dload').hide();\n  }\n\n  $('.definitionsWrapper').hide();\n  $('.downloadsWrapper').hide();\n\n  $('#def').click(function() {\n    $('.definitionsWrapper').toggle();\n    $('.downloadsWrapper').hide();\n  });\n\n  $('#dload').click(function() {\n    $('.downloadsWrapper').toggle();\n    $('.definitionsWrapper').hide();\n  });\n\n  $('#titleDisplaySelectInstruction').show();\n});\n","function drawFourLinesMulti(chartDefaults) {\n  $.each(chartDefaults, function(idx, chartDefault) {\n    $(\".country-buttons[code='\" + chartDefault.code + \"']\").addClass(\"buttondefault\");\n    $(\".country-buttons[code='\" + chartDefault.code.toUpperCase() + \"']\").addClass(\"buttondefault\");\n    chartDefaults[idx].code = chartDefault.code.toUpperCase();\n  });\n\n  // all parts of a single chart\n  var default_chart_collection = {\n    chart: null,   // pointer to the chart itself\n    source_url: null,  // url where to get the data from\n    data: null,    // data\n    options: null    // chart options\n  };\n\n  // prepare all 6 chart objects\n  charts = [];\n\n  for (var i = 0; i < NumberOfFourLinesCharts; i++) {\n    charts.push($.extend({}, default_chart_collection));\n  }\n\n  var default_options = {\n    chart: {\n      zoomType: 'x',\n      resetZoomButton: { theme: { display: 'none' } },\n      events: { selection: function (ev) { if (ev.xAxis) $(ev.target.container).parent().parent().find('button.reset').show(); } },\n      type: 'line',\n      animation: false,\n      spacingBottom: 5,\n      margin: margins,\n      backgroundColor: 'rgba(255, 255, 255, 0.1)'\n    },\n    plotOptions: {\n      series: {\n        dashStyle: 'solid',\n        borderWidth: '0',\n        shadow: false,\n        animation: false,\n        lineWidth: lineWidth,\n        connectNulls: connectNulls,\n        marker: {\n          enabled: !connectNulls,\n          radius: 1,\n          states: { hover: { enabled: true, radius: 4 } }\n        }\n      }\n    },\n    legend: { enabled: false },\n    credits: { enabled: false },\n    xAxis: {\n      tickmarkPlacement: 'on',\n      tickLength: 6,\n      plotBands: plotBand,\n      categories: [],\n      labels: labelsxAxis,\n      lineWidth: 1,\n      min: xAxisMin,\n    },\n    yAxis: {\n      title: {\n        text: null, // txt_yAxis,\n      },\n      minPadding: 0.2,\n      maxPadding: 0.2,\n      labels: yAxisLabels\n    },\n    title: {\n      text: null\n    },\n    exporting: { enabled: false },\n    tooltip: tooltips,\n    colors: colors\n  };\n\n  for (i = 0; i < NumberOfFourLinesCharts; i++) {\n    charts[i]['options'] = $.extend(true, {}, default_options, {\n      chart: {\n        renderTo: 'container' + i\n      },\n      yAxis: {\n        min: window['minimum' + i],\n        max: window['maximum' + i],\n        plotLines: plotLines[i]\n      },\n      tooltip: window['tooltip' + i],\n      plotOptions: window['plotOptions' + i],\n      xAxis: window['xAxisHide' + i]\n    });\n\n    charts[i]['source_url'] = window.DataFourLines[i];\n  }\n\n  // create data objects:\n  for(i in charts) {\n    charts[i].data = {};\n  }\n\n  //---------------------------------------------------------------------------\n\n  // vars used on chartsSync\n  var minValue = default_min;\n  var maxValue = default_max;\n  var numChartsToLoad = charts.length;\n\n  var minValue = default_min;\n  var maxValue = default_max;\n  var numChartsToLoad = charts.length;\n  for(i in charts) {\n    (function(i) {\n      function loadJSON(data){\n        var key1;\n        var key2;\n        var ids = [];\n        // key1: first non-numeric key with more than one value\n        // key2: first numeric key\n        // ids: array filled with 0 for storing k,v at key1,key2\n        $.each(data.keys, function(k, v) {\n          if ($.isNumeric(v[0])) {\n            if (key2 == null) key2 = k;\n          } else {\n            if (key1 == null && v.length > 1) key1 = k;\n          }\n          ids.push(0);\n        });\n\n        // Set keys manually here\n\n        key1 = 0;\n        key2 = 1;\n\n        var dates = [];\n        if (datetime_xAxis) {\n          charts[i].options.xAxis.type = 'datetime';\n          charts[i].options.xAxis.dateTimeLabelFormats = datetime_formats;\n          delete charts[i].options.xAxis.categories;\n        }\n        $.each(data.keys[key2], function(k, v) {\n          if (datetime_xAxis) {\n            var a = v.split('-');\n            if (a.length < 2) a[1] = 1;\n            else {\n              var m = a[1].match(/^Q([1-4])$/);\n              if (m !== null) a[1] = m[1] * 3 - 2;\n            }\n            dates.push(Date.UTC(a[0], a[1] - 1));\n          } else {\n            charts[i].options.xAxis.categories.push(v.toString());\n          }\n        });\n        $.each(data.keys[key1], function(k, v) {\n          ids[key1] = k;\n          var series = { data: [], name: v };\n          for (var j = 0; j < data.keys[key2].length; j++) {\n            ids[key2] = j;\n            // use array ids to index data.data\n            var d = data.data;\n\n            $.each(ids, function(i, v) {\n              if (d === null) return false;\n              d = d[v];\n            });\n            if (d === undefined) d = null;\n\n            if (datetime_xAxis) d = [dates[series.data.length], d];\n            series.data.push(d);\n          }\n          charts[i].data[series.name.toUpperCase()] = series;\n        });\n        // push initial data of the default countries (other series stays empty for now)\n\n        charts[i].options.series = [];\n        $.each(chartDefaults, function(idx, chartDefault) {\n          var default_country_key = chartDefault.code;\n          if (default_country_key != null && default_country_key.toLowerCase) default_country_key = default_country_key.toLowerCase();\n\n          if (chartDefault.code in charts[i].data) {\n            if (syncScale) {\n              // set min and max values for all charts to default country\n              $.each(charts[i].data[chartDefault.code].data, function(idx, datapoint){\n                if ($.isArray(datapoint)) datapoint = datapoint[1];\n                if (datapoint == null) return;\n                if (minValue == null || datapoint < minValue) minValue = datapoint;\n                if (maxValue == null || datapoint > maxValue) maxValue = datapoint;\n              });\n\n              // save min and max values for redrawing\n              charts[i].data[chartDefault.code].dataMin = minValue;\n              charts[i].data[chartDefault.code].dataMax = maxValue;\n\n              // set current chart min and max values\n              charts[i].options.yAxis.min = minValue;\n              charts[i].options.yAxis.max = maxValue;\n            }\n\n            var chartSeries =\n              {\n                id: chartDefault.code,\n                name: lang_countries[ default_country_key],\n                data: charts[i].data[ chartDefault.code].data,\n                tag: chartDefault.code\n              };\n            $.extend(chartSeries, chartDefault.options);\n            charts[i].options.series.push(chartSeries);\n          }\n        });\n\n        if (syncScale) {\n          // create respective chart with respective options/data once all charts are loaded\n          numChartsToLoad--;\n          if (numChartsToLoad == 0) {\n            for(var j in charts) {\n              if (charts[j].options.yAxis.min < minValue) minValue = charts[j].options.yAxis.min;\n              if (charts[j].options.yAxis.max > maxValue) maxValue = charts[j].options.yAxis.max;\n            }\n            for(var j in charts) {\n              charts[j].options.yAxis.min = minValue;\n              charts[j].options.yAxis.max = maxValue;\n\n              charts[j].chart = new Highcharts.Chart(charts[j].options);\n            }\n          }\n        } else {\n          charts[i].chart = new Highcharts.Chart(charts[i].options);\n        }\n        $('#container' + i).parent().find('button.reset').click((function (i) {\n          return function () {\n            $(this).hide();\n            charts[i].chart.zoomOut();\n          };\n        })(i));\n      }\n\n      if (charts[i].source_url && (typeof charts[i].source_url) != 'string') {\n        loadJSON(charts[i].source_url);\n      }\n    })(i);\n  }\n}\n","\nfunction MakeChart(datafile,container,options) {\n\tvar self=this;\n\tthis.datafile=datafile;\n\tthis.options=options;\n\tthis.container=container;\n\tthis.goaldata=[];\n\n//\tvar selectedYear = -1; // -1 for latest\n\n\tvar selectedYear = -1;\n\n\tthis.loadData=function() {\n\t\tif ((typeof datafile) != 'string') {\n\t\t\tself.parseJSONData(datafile);\n\t\t};\n\t};\n\n// load data from JSON file\n\tthis.parseJSONData=function(data) {\n\n\t\tvar key1;\n\t\tvar key2;\n\t\tvar ids = [];\n\t\t// key1: first non-numeric key with more than one value\n\t\t// key2: first numeric key\n\t\t// ids: array filled with 0 for storing k,v at key1,key2\n\t\t$.each(data.keys, function(k,v) {\n\t\t\tif ($.isNumeric(v[0])) {\n\t\t\t\tif (key2 == null) key2 = k;\n\t\t\t} else {\n\t\t\t\tif (key1 == null && v.length > 1) key1 = k;\n\t\t\t}\n\t\t\tids.push(0);\n\t\t});\n\n\t\tkey1 = 0;\n\t\tkey2 = 1;\n\n\t\tvar years = data.keys[key2];\n\n\t\t// loop over countries\n\t\t$.each(data.keys[key1], function(k,v) {\n\t\t\tids[key1] = k;\n\t\t\tvar countryName=v.toString();\n\t\t\tvar isoCode=countryName;\n\t\t\tif (isoCode!=undefined) isoCode=isoCode.toLowerCase();\n\t\t\tif (isoCode!=undefined&&lang_countries[isoCode]!=undefined) {\n\t\t\t\tif ($(window).width() < 450){\n\t\t\t\t  if (ISOcodes=='CRScodes') {countryName=CRStoISO3[isoCode];}\n\t\t\t\t  else {countryName=isoCode.toUpperCase();}\n\t\t\t\t} else {\n                  countryName=lang_countries[isoCode];\n                }\n\t\t\t}\n\n\t\t\tvar items = [];\n\t\t\t// loop over years\n\t\t\t$.each(data.keys[key2], function(k,v) {\n\t\t\t\tids[key2] = k;\n\t\t\t\tvar d = data.data;\n\t\t\t\t$.each(ids, function(k,v) { d=d[v]; });\n\t\t\t\titems.push(d);\n\t\t\t});\n\n\t\t\tvar lastValue, lastYear;\n\t\t\t// find last year with value\n\t\t\tfor (var k=years.length-1; k>=0; k--) {\n\t\t\t\tvar v=years[k];\n\t\t\t\tif (selectedYear != -1 && selectedYear < v) continue;\n\t\t\t\tif (lastYear == null) lastYear=\"\";\n                                else lastYear=\" (\"+v+\")\";\n\t\t\t\tif (!isNaN(parseFloat(items[k]))) {\n\t\t\t\t\tlastValue=k;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (lastValue == null) return;\n\n\t\t\tvar countryobj = {\n\t\t\t    name: countryName+lastYear,\n\t\t\t    iso: isoCode.toUpperCase(),\n\n\t\t\t    y: parseFloat(items[lastValue]),\n\n\t\t\t    tooltip: commaSeparateNumber(parseFloat(items[lastValue])),\n\n\t\t\t};\n\n            if (isoCode=='oecd') countryobj.color=oecdColor;\n\t\t\tif (isoCode=='OECD') countryobj.color=oecdColor;\n\t\t\tif (isoCode=='20001') countryobj.color=oecdColor;\n\t\t\tif (isoCode=='average') countryobj.color=oecdColor;\n\n\t\t\tself.goaldata.push(countryobj);\n\n\t\t});\n\n\t\tself.goaldata.sort(compareBy('y'));\n\t\tself.drawChart(self.goaldata,self.options);\n\n\t}\n\n\tthis.drawChart=function(data,options) {\n\t\tself.curData=data;\n\t\tdefaultOptions={\n\t\t\tchart: {\n\t\t\t\trenderTo: self.container,\n\t\t\t\ttype: 'column',\n\t\t\t\tmargin: marginsBar,\n                backgroundColor:'rgba(255, 255, 255, 0.1)'\n\t\t\t},\n\t\t\txAxis: {\n\t\t\t\tcategories: (function(data){ var x=[]; $(data).each(function(i,e){ x.push(e.name) }); return x; }(data)),\n\t\t\t\tlabels: {enabled: false},\n\t\t\t\ttickWidth: 0\n\t\t\t},\n\t\t\tyAxis: {\n\t\t\t\ttitle: {text: null},\n\t\t\t\tlabels: labelsYaxis,\n                gridLineWidth: gridLinesYaxis\n\t\t\t},\n\t\t\tseries: [{data: data,}],\n\t\t\ttooltip: {enabled: tooltips},\n\n\t\t\tplotOptions: {\n\t\t\t\tseries: {\n\t\t\t\t\tborderWidth: '0',\n\t\t\t\t\tshadow: false,\n\t\t\t\t\tanimation: true,\n\t\t\t\t\tpointPadding: 0.15,\n\t\t\t\t\tgroupPadding: 0,\n                    dataLabels: {\n                        enabled: false,\n                        overflow: 'none',\n                        crop: false,\n                        allowOverlap: true,\n                    }\n\t\t\t\t},\n\t\t\tcolumn: {stacking: 'normal'}\n\n\t\t\t},\n\t\t\tcolors: defaultColor,\n\t\t\tlegend: {enabled: false},\n\t\t\tcredits: {enabled: false},\n\t\t\texporting: {enabled: false},\n\t\t\ttitle : {\n\t\t\t\ttext: self.title,\n\t\t\t\talign: 'left',\n\t\t\t\tx: 0,\n\t\t\t\tstyle: { fontSize: '14px' }\n\t\t\t\t},\n\t\t}\n\n\t\tif (options) defaultOptions=objectUnion(defaultOptions,options);\n\n\t\tself.chart = new Highcharts.Chart(defaultOptions);\n\t}\n\n\tthis.tooltipChartUrl=function(data) {return '';}\n\n\tthis.sortChart=function(comparator) {\n\t\tself.goaldata.sort(compareBy(comparator));\n\t\tself.drawChart(self.goaldata,self.options);\n\t}\n\n\tthis.matchSort=function(otherChart) {\n\t\tvar newGoalData=[]\n\t\tvar goalDataDict={};\n\t\t$.each(self.goaldata,function(ckey,cval) {\n\t\t\tgoalDataDict[cval.name]=cval;\n\t\t})\n\t\t$.each(otherChart.goaldata,function(ckey,cval) {\n\t\t\tvar dataItem=goalDataDict[cval.name];\n\t\t\tif (dataItem!=undefined) newGoalData.push(dataItem);\n\t\t});\n\t\tself.drawChart(newGoalData,self.options);\n\t}\n\n\tthis.highlightCountry=function(iso,color) {\n\t\tvar datapoint;\n\t\tvar i;\n\t\tisoArr=[iso.toUpperCase()];\n\t\tfor (i=0;i<self.curData.length;i++) {\n\t\t\tdatapoint=self.curData[i];\n\t\t\tif (isoArr.indexOf(datapoint.iso.toUpperCase())>=0) {\n\t\t\t\tdatapoint.oldColor=datapoint.color;\n\t\t\t\tdatapoint.color=color;\n\t\t\t}\n\t\t}\n\t\tself.chart.series[0].setData(self.curData,true);\n\t}\n\n\tthis.highlightSecondaryCountries=function(isos,color) {\n\t\tvar datapoint;\n\t\tvar i;\n\t\tisoArr=[];\n                $.each(isos,function(k,v) { isoArr.push(v.toUpperCase()); });\n\t\tfor (i=0;i<self.curData.length;i++) {\n\t\t\tdatapoint=self.curData[i];\n\t\t\tif (isoArr.indexOf(datapoint.iso.toUpperCase())>=0) {\n\t\t\t\tdatapoint.color=color;\n\t\t\t}\n\t\t}\n\t\tself.chart.series[0].setData(self.curData,true);\n\t}\n\n\tthis.removeHighlights=function(color) {\n\t\tvar datapoint;\n\t\tvar i;\n\t\tfor (i=0;i<self.curData.length;i++) {\n\t\t\tdatapoint=self.curData[i];\n\t\t\tif (datapoint.color==color) datapoint.color = datapoint.oldColor;\n\n\t\t}\n\t\tself.chart.series[0].setData(self.curData,true);\n\t}\n\n\tthis.removeHighlightCountry=function(iso) {\n\t\tvar datapoint;\n\t\tvar i;\n\t\tisoArr=[iso.toUpperCase()];\n\t\tfor (i=0;i<self.curData.length;i++) {\n\t\t\tdatapoint=self.curData[i];\n\t\t\tif (isoArr.indexOf(datapoint.iso.toUpperCase())>=0) {\n\t\t\t\tdatapoint.color=datapoint.oldColor;\n\t\t\t}\n\t\t}\n\t\tself.chart.series[0].setData(self.curData,true);\n\t}\n\n\n}\n\n","function syncScales() {\n  var min = null, max = null;\n  var i;\n  for(i in charts) {\n    $.each(charts[i].chart.series, function(idx, series) {\n      if (series.visible && ((\"id\" in series.options) || (\"tag\" in series.options))) {\n        var id = series.options.id || series.options.tag;\n        var minValue, maxValue;\n        if (\"dataMin\" in charts[i].data[id]) {\n          minValue = charts[i].data[id].dataMin;\n          maxValue = charts[i].data[id].dataMax;\n        } else {\n          minValue = default_min;\n          maxValue = default_max;\n          $.each(charts[i].data[id].data, function(idx, datapoint) {\n            if ($.isArray(datapoint)) {\n              datapoint = datapoint[1];\n            }\n            if (datapoint == null) {\n              return;\n            }\n            if (minValue == null || datapoint < minValue) {\n              minValue = datapoint;\n            }\n            if (maxValue == null || datapoint > maxValue) {\n              maxValue = datapoint;\n            }\n          });\n          // save min and max values for redrawing\n          charts[i].data[id].dataMin = minValue;\n          charts[i].data[id].dataMax = maxValue;\n        }\n        if (minValue != null && (min == null || minValue < min)) {\n          min = minValue;\n        }\n        if (maxValue != null && (max == null || maxValue > max)) {\n          max = maxValue;\n        }\n      }\n    });\n  }\n  for(i in charts) {\n    charts[i].chart.yAxis[0].setExtremes(min, max);\n  }\n}\n","function updateChart(index) {\n  return function() {\n    var params = {\n      cr: urlcountries,\n      lg: lang,\n      page: page,\n      charts: window.Chart.slice()\n    };\n    if (embed) {\n      params.embed = 1;\n    }\n    if (template != null) {\n      params.template = template;\n    }\n    params.charts[index] = $(this).val();\n    var url = '/' + project;\n    var s = '?';\n    $.each(params, function(k, v) {\n      url += s + encodeURIComponent(k) + '=';\n      if ($.isArray(v)) {\n        url += v.map(encodeURIComponent).join('+');\n      } else {\n        url += encodeURIComponent(v);\n      }\n      s = '&';\n    });\n    location = url;\n  };\n}\n","\n\n//adds and removes series from chart\n\nsetData = (function() {\n// store last country code in a local variable\n  var lastCountryCode = null;\n  return function(countrycode) {\n    if (countrycode === '') countrycode = null;\n    if (countrycode != null && countrycode.toUpperCase) countrycode = countrycode.toUpperCase();\n    if (lastCountryCode != null) removeCountryFromChart(lastCountryCode);\n    lastCountryCode = countrycode;\n    var SeriesColor = '#E04514';\n    if (countrycode != null) addCountryToChart(countrycode, SeriesColor);\n    if (syncScale) {\n        syncScales();\n    }\n  };\n})();\n\nfunction removeCountryFromChart(country) {\n\tfor(i in charts) {\n\t\tif (charts[i].data[country]==undefined) continue;\n\t\tvar chart=charts[i].chart;\n\t\tif (!chart) continue;\n\t\tfor (var j=0;j<chart.series.length;j++) {\n\t\t\tif (chart.series[j].options.tag == country) {\n\t\t\t\tchart.series[j].remove();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction addCountryToChart(country, SeriesColor) {\n\tfor(i in charts) {\n\t\tif (charts[i].data[country]==undefined) continue;\n\t\tvar chart=charts[i].chart;\n\t\tif (!chart) continue;\n\t\tvar key=charts[i].data[country].name;\n\t\tif (key.toLowerCase) key=key.toLowerCase();\n\t\tvar countryName=lang_countries[ key ];\n\t\tvar countryData=charts[i].data[country].data;\n\t\tchart.addSeries({name:countryName,data:countryData,tag:country,color:SeriesColor});\n\t}\n}\n\n"]}